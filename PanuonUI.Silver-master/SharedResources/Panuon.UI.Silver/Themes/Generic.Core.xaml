<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="clr-namespace:Panuon.UI.Silver"
                    xmlns:converter="clr-namespace:Panuon.UI.Silver.Converters"
                    xmlns:internal="clr-namespace:Panuon.UI.Silver.Controls.Internal">
    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="pack://application:,,,/Panuon.UI.Silver;component/Themes/Button.xaml" />
        <ResourceDictionary Source="pack://application:,,,/Panuon.UI.Silver;component/Themes/CheckBox.xaml" />
    </ResourceDictionary.MergedDictionaries>

    <Style TargetType="{x:Type local:Timeline}">
        <Setter Property="SnapsToDevicePixels"
                Value="{StaticResource Default_SnapsToDevicePixels}" />
        <Setter Property="FontSize"
                Value="{StaticResource Default_FontSize}" />
        <Setter Property="VirtualizingStackPanel.IsVirtualizing"
                Value="True" />
        <Setter Property="VirtualizingStackPanel.VirtualizationMode"
                Value="Recycling" />
        <Setter Property="ScrollViewer.CanContentScroll"
                Value="True" />
        <Setter Property="HeaderTemplateSelector"
                Value="{StaticResource HeaderTemplateSelector}" />
        <Setter Property="VerticalScrollBarVisibility"
                Value="Auto" />
        <Setter Property="HorizontalScrollBarVisibility"
                Value="Disabled" />
        <Setter Property="local:ScrollViewerHelper.ScrollBarThickness"
                Value="6" />
        <Setter Property="local:ScrollViewerHelper.ScrollBarCornerRadius"
                Value="3" />
        <Setter Property="ItemLineBrush"
                Value="LightGray" />
        <Setter Property="ItemLineThickness"
                Value="1" />
        <Setter Property="ItemLineMargin"
                Value="0" />
        <Setter Property="ItemToggleSize"
                Value="20" />
        <Setter Property="ItemToggleStroke"
                Value="DimGray" />
        <Setter Property="ItemToggleMargin"
                Value="5" />
        <Setter Property="ItemToggleStrokeThickness"
                Value="1" />
        <Setter Property="ItemToggleFill"
                Value="White" />
        <Setter Property="ItemToggleShadowColor"
                Value="LightGray" />
        <Setter Property="ItemsPanel">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <VirtualizingStackPanel Orientation="{Binding TimelimeStripPlacement,RelativeSource={RelativeSource AncestorType=local:Timeline},Converter={StaticResource TimelimeStripPlacementToOrientationConverter}}" />
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:Timeline}">
                    <Border Name="Border"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}">
                        <ScrollViewer VerticalScrollBarVisibility="{TemplateBinding VerticalScrollBarVisibility}"
                                      HorizontalScrollBarVisibility="{TemplateBinding HorizontalScrollBarVisibility}"
                                      local:ScrollViewerHelper.ScrollBarCornerRadius="{Binding Path=(local:ScrollViewerHelper.ScrollBarCornerRadius),RelativeSource={RelativeSource AncestorType=local:Timeline}, Mode=OneWay}"
                                      local:ScrollViewerHelper.ScrollBarThickness="{Binding Path=(local:ScrollViewerHelper.ScrollBarThickness),RelativeSource={RelativeSource AncestorType=local:Timeline}, Mode=OneWay}"
                                      Padding="{TemplateBinding Padding}">
                            <ItemsPresenter />
                        </ScrollViewer>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsEnabled"
                                 Value="False">
                            <Setter Property="Opacity"
                                    Value="0.4" />
                        </Trigger>
                        <Trigger Property="IsGrouping"
                                 Value="True">
                            <Setter Property="ScrollViewer.CanContentScroll"
                                    Value="false" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="TimelimeStripPlacement"
                     Value="Top">
                <Setter Property="VerticalScrollBarVisibility"
                        Value="Disabled" />
                <Setter Property="HorizontalScrollBarVisibility"
                        Value="Visible" />
            </Trigger>
            <Trigger Property="TimelimeStripPlacement"
                     Value="Bottom">
                <Setter Property="VerticalScrollBarVisibility"
                        Value="Disabled" />
                <Setter Property="HorizontalScrollBarVisibility"
                        Value="Visible" />
            </Trigger>
        </Style.Triggers>
    </Style>

    <Style TargetType="{x:Type local:TimelineItem}"
           BasedOn="{StaticResource {x:Type ContentControl}}">
        <Setter Property="SnapsToDevicePixels"
                Value="{StaticResource Default_SnapsToDevicePixels}" />
        <Setter Property="FontSize"
                Value="{StaticResource Default_FontSize}" />
        <Setter Property="VerticalContentAlignment"
                Value="Top" />
        <Setter Property="HorizontalContentAlignment"
                Value="Left" />
        <Setter Property="Foreground"
                Value="#3E3E3E" />
        <Setter Property="BorderThickness"
                Value="0" />
        <Setter Property="TimelimeStripPlacement"
                Value="{Binding TimelimeStripPlacement,RelativeSource={RelativeSource AncestorType=local:Timeline}}" />
        <Setter Property="LineBrush"
                Value="{Binding ItemLineBrush,RelativeSource={RelativeSource AncestorType=local:Timeline}}" />
        <Setter Property="LineThickness"
                Value="{Binding ItemLineThickness,RelativeSource={RelativeSource AncestorType=local:Timeline}}" />
        <Setter Property="LineMargin"
                Value="{Binding ItemLineMargin,RelativeSource={RelativeSource AncestorType=local:Timeline}}" />
        <Setter Property="ToggleSize"
                Value="{Binding ItemToggleSize,RelativeSource={RelativeSource AncestorType=local:Timeline}}" />
        <Setter Property="ToggleMargin"
                Value="{Binding ItemToggleMargin,RelativeSource={RelativeSource AncestorType=local:Timeline}}" />
        <Setter Property="ToggleStroke"
                Value="{Binding ItemToggleStroke,RelativeSource={RelativeSource AncestorType=local:Timeline}}" />
        <Setter Property="ToggleStrokeThickness"
                Value="{Binding ItemToggleStrokeThickness,RelativeSource={RelativeSource AncestorType=local:Timeline}}" />
        <Setter Property="ToggleShadowColor"
                Value="{Binding ItemToggleShadowColor,RelativeSource={RelativeSource AncestorType=local:Timeline}}" /> 
        <Setter Property="ToggleFill"
                Value="{Binding ItemToggleFill,RelativeSource={RelativeSource AncestorType=local:Timeline}}" />
        <Setter Property="local:IconHelper.FontSize"
                Value="{Binding FontSize, Converter={StaticResource Add3Converter},RelativeSource={RelativeSource Self},Mode=OneWay}" />
        <Setter Property="local:IconHelper.Foreground"
                Value="{Binding Foreground,RelativeSource={RelativeSource Self},Mode=OneWay}" />
        <Setter Property="local:IconHelper.FontFamily"
                Value="{StaticResource FontAwesome}" />
        <Style.Triggers>
            <Trigger Property="IsCreateByItemsControl"
                     Value="True">
                <Setter Property="Header"
                        Value="{Binding}" />
            </Trigger>
            <Trigger Property="TimelimeStripPlacement"
                     Value="Left">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type local:TimelineItem}">
                            <Grid Background="{TemplateBinding Background}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition />
                                </Grid.ColumnDefinitions>
                                <Ellipse x:Name="EllToggle"
                                         Width="{TemplateBinding ToggleSize}"
                                         Height="{TemplateBinding ToggleSize}"
                                         Margin="{TemplateBinding ToggleMargin}"
                                         Stroke="{TemplateBinding ToggleStroke}"
                                         StrokeThickness="{TemplateBinding ToggleStrokeThickness}"
                                         Fill="{TemplateBinding ToggleFill}">
                                    <Ellipse.Effect>
                                        <DropShadowEffect ShadowDepth="0"
                                                          BlurRadius="5"
                                                          Color="{TemplateBinding ToggleShadowColor}"></DropShadowEffect>
                                    </Ellipse.Effect>
                                </Ellipse>
                                <Label x:Name="LblIcon"
                                       Content="{Binding Icon,Converter={StaticResource IconConverter},RelativeSource={RelativeSource AncestorType=local:TimelineItem}, Mode=OneWay}"
                                       Foreground="{Binding Path=(local:IconHelper.Foreground),RelativeSource={RelativeSource AncestorType=local:TimelineItem}, Mode=OneWay}"
                                       FontSize="{Binding Path=(local:IconHelper.FontSize),RelativeSource={RelativeSource AncestorType=local:TimelineItem}, Mode=OneWay}"
                                       FontFamily="{Binding Path=(local:IconHelper.FontFamily),RelativeSource={RelativeSource AncestorType=local:TimelineItem}, Mode=OneWay}"
                                       VerticalContentAlignment="Center"
                                       HorizontalContentAlignment="Center" />
                                <Rectangle Grid.Row="1"
                                           Margin="{TemplateBinding LineMargin}"
                                           Width="{TemplateBinding LineThickness}"
                                           Fill="{TemplateBinding LineBrush}"
                                           HorizontalAlignment="Center" />
                                <ContentPresenter Grid.Column="1"
                                                  ContentSource="Header"
                                                  ContentTemplate="{Binding HeaderTemplate,RelativeSource={RelativeSource AncestorType=local:Timeline}, Mode=OneWay}"
                                                  ContentTemplateSelector="{Binding HeaderTemplateSelector,RelativeSource={RelativeSource AncestorType=local:Timeline}, Mode=OneWay}"
                                                  TextBlock.Foreground="{TemplateBinding Foreground}"
                                                  TextElement.Foreground="{TemplateBinding Foreground}"
                                                  VerticalAlignment="Center"
                                                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}">
                                </ContentPresenter>
                                <ContentPresenter Grid.Column="1"
                                                  Grid.Row="1"
                                                  Margin="{TemplateBinding Padding}"
                                                  TextBlock.Foreground="{TemplateBinding Foreground}"
                                                  TextElement.Foreground="{TemplateBinding Foreground}"
                                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"/>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="ToggleShadowColor"
                                             Value="{x:Null}">
                                    <Setter TargetName="EllToggle"
                                            Property="Effect"
                                            Value="{x:Null}" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>
            <Trigger Property="TimelimeStripPlacement"
                     Value="Right">
                <Setter Property="VerticalContentAlignment"
                        Value="Top" />
                <Setter Property="HorizontalContentAlignment"
                        Value="Right" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type local:TimelineItem}">
                            <Grid Background="{TemplateBinding Background}">
                                <Grid.RowDefinitions>
                                    <RowDefinition />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <ContentPresenter ContentSource="Header"
                                                  ContentTemplate="{Binding HeaderTemplate,RelativeSource={RelativeSource AncestorType=local:Timeline}, Mode=OneWay}"
                                                  ContentTemplateSelector="{Binding HeaderTemplateSelector,RelativeSource={RelativeSource AncestorType=local:Timeline}, Mode=OneWay}"
                                                  TextBlock.Foreground="{TemplateBinding Foreground}"
                                                  TextElement.Foreground="{TemplateBinding Foreground}"
                                                  VerticalAlignment="Center"
                                                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"/>
                                <ContentPresenter Grid.Row="1"
                                                  Margin="{TemplateBinding Padding}"
                                                  TextBlock.Foreground="{TemplateBinding Foreground}"
                                                  TextElement.Foreground="{TemplateBinding Foreground}"
                                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" />
                                <Ellipse Grid.Column="1"
                                         x:Name="EllToggle"
                                         Width="{TemplateBinding ToggleSize}"
                                         Height="{TemplateBinding ToggleSize}"
                                         Margin="{TemplateBinding ToggleMargin}"
                                         Stroke="{TemplateBinding ToggleStroke}"
                                         StrokeThickness="{TemplateBinding ToggleStrokeThickness}"
                                         Fill="{TemplateBinding ToggleFill}">
                                    <Ellipse.Effect>
                                        <DropShadowEffect ShadowDepth="0"
                                                          BlurRadius="5"
                                                          Color="{TemplateBinding ToggleShadowColor}"></DropShadowEffect>
                                    </Ellipse.Effect>
                                </Ellipse>
                                <Label x:Name="LblIcon"
                                       Grid.Column="1"
                                       Content="{Binding Icon,Converter={StaticResource IconConverter},RelativeSource={RelativeSource AncestorType=local:TimelineItem}, Mode=OneWay}"
                                       Foreground="{Binding Path=(local:IconHelper.Foreground),RelativeSource={RelativeSource AncestorType=local:TimelineItem}, Mode=OneWay}"
                                       FontSize="{Binding Path=(local:IconHelper.FontSize),RelativeSource={RelativeSource AncestorType=local:TimelineItem}, Mode=OneWay}"
                                       FontFamily="{Binding Path=(local:IconHelper.FontFamily),RelativeSource={RelativeSource AncestorType=local:TimelineItem}, Mode=OneWay}"
                                       VerticalContentAlignment="Center"
                                       HorizontalContentAlignment="Center" />
                                <Rectangle Grid.Row="1"
                                           Grid.Column="1"
                                           Margin="{TemplateBinding LineMargin}"
                                           Width="{TemplateBinding LineThickness}"
                                           Fill="{TemplateBinding LineBrush}"
                                           HorizontalAlignment="Center" />
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="ToggleShadowColor"
                                         Value="{x:Null}">
                                    <Setter TargetName="EllToggle"
                                            Property="Effect"
                                            Value="{x:Null}" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>
            <Trigger Property="TimelimeStripPlacement"
                     Value="Top">
                <Setter Property="VerticalContentAlignment"
                        Value="Top" />
                <Setter Property="HorizontalContentAlignment"
                        Value="Stretch" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type local:TimelineItem}">
                            <Grid Background="{TemplateBinding Background}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition />
                                </Grid.RowDefinitions>
                                <Rectangle VerticalAlignment="Center"
                                           Margin="{TemplateBinding LineMargin}"
                                           Height="{TemplateBinding LineThickness}"
                                           Fill="{TemplateBinding LineBrush}"
                                           HorizontalAlignment="Stretch" />
                                <Grid HorizontalAlignment="Center">
                                    <Ellipse x:Name="EllToggle"
                                             Width="{TemplateBinding ToggleSize}"
                                             Height="{TemplateBinding ToggleSize}"
                                             Margin="{TemplateBinding ToggleMargin}"
                                             Stroke="{TemplateBinding ToggleStroke}"
                                             StrokeThickness="{TemplateBinding ToggleStrokeThickness}"
                                             Fill="{TemplateBinding ToggleFill}">
                                        <Ellipse.Effect>
                                            <DropShadowEffect ShadowDepth="0"
                                                              BlurRadius="5"
                                                              Color="Gray"></DropShadowEffect>
                                        </Ellipse.Effect>
                                    </Ellipse>
                                    <Label x:Name="LblIcon"
                                           Content="{Binding Icon,Converter={StaticResource IconConverter},RelativeSource={RelativeSource AncestorType=local:TimelineItem}, Mode=OneWay}"
                                           Foreground="{Binding Path=(local:IconHelper.Foreground),RelativeSource={RelativeSource AncestorType=local:TimelineItem}, Mode=OneWay}"
                                           FontSize="{Binding Path=(local:IconHelper.FontSize),RelativeSource={RelativeSource AncestorType=local:TimelineItem}, Mode=OneWay}"
                                           FontFamily="{Binding Path=(local:IconHelper.FontFamily),RelativeSource={RelativeSource AncestorType=local:TimelineItem}, Mode=OneWay}"
                                           VerticalContentAlignment="Center"
                                           HorizontalContentAlignment="Center" />
                                </Grid>
                                <ContentPresenter Grid.Row="1"
                                                  ContentSource="Header"
                                                  ContentTemplate="{Binding HeaderTemplate,RelativeSource={RelativeSource AncestorType=local:Timeline}, Mode=OneWay}"
                                                  ContentTemplateSelector="{Binding HeaderTemplateSelector,RelativeSource={RelativeSource AncestorType=local:Timeline}, Mode=OneWay}"
                                                  TextBlock.Foreground="{TemplateBinding Foreground}"
                                                  TextElement.Foreground="{TemplateBinding Foreground}"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                                <ContentPresenter Grid.Row="2"
                                                  Margin="{TemplateBinding Padding}"
                                                  TextBlock.Foreground="{TemplateBinding Foreground}"
                                                  TextElement.Foreground="{TemplateBinding Foreground}"
                                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"/>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="ToggleShadowColor"
                                         Value="{x:Null}">
                                    <Setter TargetName="EllToggle"
                                            Property="Effect"
                                            Value="{x:Null}" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>
            <Trigger Property="TimelimeStripPlacement"
                     Value="Bottom">
                <Setter Property="VerticalContentAlignment"
                        Value="Bottom" />
                <Setter Property="HorizontalContentAlignment"
                        Value="Stretch" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type local:TimelineItem}">
                            <Grid Background="{TemplateBinding Background}">
                                <Grid.RowDefinitions>
                                    <RowDefinition />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <ContentPresenter Margin="{TemplateBinding Padding}"
                                                  TextBlock.Foreground="{TemplateBinding Foreground}"
                                                  TextElement.Foreground="{TemplateBinding Foreground}"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                                <ContentPresenter Grid.Row="1"
                                                  ContentSource="Header"
                                                  ContentTemplate="{Binding HeaderTemplate,RelativeSource={RelativeSource AncestorType=local:Timeline}, Mode=OneWay}"
                                                  ContentTemplateSelector="{Binding HeaderTemplateSelector,RelativeSource={RelativeSource AncestorType=local:Timeline}, Mode=OneWay}"
                                                  TextBlock.Foreground="{TemplateBinding Foreground}"
                                                  TextElement.Foreground="{TemplateBinding Foreground}"
                                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"/>
                                <Rectangle Grid.Row="2"
                                           VerticalAlignment="Center"
                                           Margin="{TemplateBinding LineMargin}"
                                           Height="{TemplateBinding LineThickness}"
                                           Fill="{TemplateBinding LineBrush}"
                                           HorizontalAlignment="Stretch" />
                                <Grid HorizontalAlignment="Center"
                                      Grid.Row="2">
                                    <Ellipse x:Name="EllToggle"
                                             Width="{TemplateBinding ToggleSize}"
                                             Height="{TemplateBinding ToggleSize}"
                                             Margin="{TemplateBinding ToggleMargin}"
                                             Stroke="{TemplateBinding ToggleStroke}"
                                             StrokeThickness="{TemplateBinding ToggleStrokeThickness}"
                                             Fill="{TemplateBinding ToggleFill}">
                                        <Ellipse.Effect>
                                            <DropShadowEffect ShadowDepth="0"
                                                              BlurRadius="5"
                                                              Color="{TemplateBinding ToggleShadowColor}"></DropShadowEffect>
                                        </Ellipse.Effect>
                                    </Ellipse>
                                    <Label x:Name="LblIcon"
                                           Content="{Binding Icon,Converter={StaticResource IconConverter},RelativeSource={RelativeSource AncestorType=local:TimelineItem}, Mode=OneWay}"
                                           Foreground="{Binding Path=(local:IconHelper.Foreground),RelativeSource={RelativeSource AncestorType=local:TimelineItem}, Mode=OneWay}"
                                           FontSize="{Binding Path=(local:IconHelper.FontSize),RelativeSource={RelativeSource AncestorType=local:TimelineItem}, Mode=OneWay}"
                                           FontFamily="{Binding Path=(local:IconHelper.FontFamily),RelativeSource={RelativeSource AncestorType=local:TimelineItem}, Mode=OneWay}"
                                           VerticalContentAlignment="Center"
                                           HorizontalContentAlignment="Center" />
                                </Grid>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="ToggleShadowColor"
                                         Value="{x:Null}">
                                    <Setter TargetName="EllToggle"
                                            Property="Effect"
                                            Value="{x:Null}" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>

        </Style.Triggers>
    </Style>

    <Style TargetType="{x:Type local:TagControl}">
        <Setter Property="SnapsToDevicePixels"
                Value="{StaticResource Default_SnapsToDevicePixels}" />
        <Setter Property="FontSize"
                Value="{StaticResource Default_FontSize}" />
        <Setter Property="VerticalScrollBarVisibility"
                Value="Auto" />
        <Setter Property="HorizontalScrollBarVisibility"
                Value="Disabled" />
        <Setter Property="ItemRemovable"
                Value="True" />
        <Setter Property="ItemHeight"
                Value="30" />
        <Setter Property="ItemCornerRadius"
                Value="15" />
        <Setter Property="local:ScrollViewerHelper.ScrollBarThickness"
                Value="6" />
        <Setter Property="local:ScrollViewerHelper.ScrollBarCornerRadius"
                Value="3" />
        <Setter Property="VerticalSpacing"
                Value="10" />
        <Setter Property="HorizontalSpacing"
                Value="10" />
        <Setter Property="ItemsPanel">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <local:AnimateWrapPanel Orientation="Horizontal"
                                            HorizontalSpacing="{Binding HorizontalSpacing,RelativeSource={RelativeSource AncestorType=local:TagControl},Mode=OneWay}"
                                            VerticalSpacing="{Binding VerticalSpacing,RelativeSource={RelativeSource AncestorType=local:TagControl},Mode=OneWay}"
                                            ItemWidth="{Binding ItemWidth,RelativeSource={RelativeSource AncestorType=local:TagControl},Mode=OneWay}"
                                            ItemHeight="{Binding ItemHeight,RelativeSource={RelativeSource AncestorType=local:TagControl},Mode=OneWay}" />
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:TagControl}">
                    <Border Name="Border"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}">
                        <ScrollViewer VerticalScrollBarVisibility="{TemplateBinding VerticalScrollBarVisibility}"
                                      HorizontalScrollBarVisibility="{TemplateBinding HorizontalScrollBarVisibility}"
                                      local:ScrollViewerHelper.ScrollBarCornerRadius="{Binding Path=(local:ScrollViewerHelper.ScrollBarCornerRadius),RelativeSource={RelativeSource AncestorType=local:TagControl}, Mode=OneWay}"
                                      local:ScrollViewerHelper.ScrollBarThickness="{Binding Path=(local:ScrollViewerHelper.ScrollBarThickness),RelativeSource={RelativeSource AncestorType=local:TagControl}, Mode=OneWay}"
                                      Padding="{TemplateBinding Padding}">
                            <ItemsPresenter />
                        </ScrollViewer>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsEnabled"
                                 Value="False">
                            <Setter Property="Opacity"
                                    Value="0.4" />
                        </Trigger>
                        <Trigger Property="IsGrouping"
                                 Value="True">
                            <Setter Property="ScrollViewer.CanContentScroll"
                                    Value="false" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type local:TagItem}"
           BasedOn="{StaticResource {x:Type ContentControl}}">
        <Setter Property="SnapsToDevicePixels"
                Value="{StaticResource Default_SnapsToDevicePixels}" />
        <Setter Property="FontSize"
                Value="{StaticResource Default_FontSize}" />
        <Setter Property="VerticalContentAlignment"
                Value="Center" />
        <Setter Property="Height"
                Value="30" />
        <Setter Property="HorizontalContentAlignment"
                Value="Center" />
        <Setter Property="Background"
                Value="#666666" />
        <Setter Property="HoverBrush"
                Value="#3E3E3E" />
        <Setter Property="Foreground"
                Value="White" />
        <Setter Property="BorderThickness"
                Value="0" />
        <Setter Property="Padding"
                Value="10,0" />
        <Setter Property="CornerRadius"
                Value="{Binding ItemCornerRadius,RelativeSource={RelativeSource AncestorType=local:TagControl}}" />
        <Setter Property="Removable"
                Value="{Binding ItemRemovable,RelativeSource={RelativeSource AncestorType=local:TagControl}}" />
        <Setter Property="RemoveButtonStyle">
            <Setter.Value>
                <Style TargetType="{x:Type Button}"
                       BasedOn="{StaticResource {x:Type Button}}">
                    <Setter Property="local:ButtonHelper.ButtonStyle"
                            Value="Link" />
                    <Setter Property="Content"
                            Value="×" />
                    <Setter Property="FontSize"
                            Value="{Binding FontSize,RelativeSource={RelativeSource AncestorType=local:TagItem}}" />
                    <Setter Property="Margin"
                            Value="5,0,0,0" />
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding Path=(local:ButtonHelper.ButtonStyle),RelativeSource={RelativeSource Self}, Mode=OneWay}"
                                     Value="Link">
                            <Setter Property="Foreground"
                                    Value="{Binding Foreground,RelativeSource={RelativeSource AncestorType=local:TagItem}}" />
                            <Setter Property="local:ButtonHelper.HoverBrush"
                                    Value="{Binding Foreground,RelativeSource={RelativeSource AncestorType=local:TagItem}}" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Setter.Value>
        </Setter>

        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:TagItem}">
                    <Grid>
                        <Border x:Name="BdrMain"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{TemplateBinding CornerRadius}" />
                        <Border x:Name="BdrHover"
                                Opacity="0"
                                Background="{TemplateBinding HoverBrush}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{TemplateBinding CornerRadius}" />
                        <StackPanel Orientation="Horizontal"
                                    Margin="{TemplateBinding Padding}">
                            <ContentPresenter Grid.Column="1"
                                              Grid.Row="1"
                                              Margin="{TemplateBinding Padding}"
                                              TextBlock.Foreground="{TemplateBinding Foreground}"
                                              TextElement.Foreground="{TemplateBinding Foreground}"
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" />
                            <Button x:Name="PART_RemoveButton"
                                    VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                    HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                    Style="{TemplateBinding RemoveButtonStyle}"/>
                        </StackPanel>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver"
                                 Value="True">
                            <Trigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="BdrHover"
                                                         Storyboard.TargetProperty="Opacity"
                                                         To="1"
                                                         Duration="0:0:0.3" />
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="BdrHover"
                                                         Storyboard.TargetProperty="Opacity"
                                                         Duration="0:0:0.3" />
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.ExitActions>
                        </Trigger>
                        <Trigger Property="Removable"
                                 Value="False">
                            <Setter TargetName="PART_RemoveButton"
                                    Property="Visibility"
                                    Value="Collapsed" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        
    </Style>

    <Style TargetType="{x:Type local:StateIcon}">
        <Setter Property="Foreground"
                Value="LightGray" />
        <Setter Property="FontFamily"
                Value="{StaticResource FontAwesome}" />
        <Setter Property="Icon"
                Value="&#xf111;" />
        <Setter Property="VerticalAlignment"
                Value="Top" />
        <Setter Property="HorizontalAlignment"
                Value="Left" />
        <Setter Property="FontSize"
                Value="16" />
        <Setter Property="IconState"
                Value="Normal" />
        <Setter Property="FailedBrush"
                Value="Gray" />
        <Setter Property="WarningBrush"
                Value="#F5BD00" />
        <Setter Property="ErrorBrush"
                Value="#EB3941" />
        <Setter Property="SuccessBrush"
                Value="#6DD200" />
        <Setter Property="TipsBrush"
                Value="#3BC1F9" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:StateIcon}">
                    <Grid Background="{TemplateBinding Background}">
                        <TextBlock x:Name="TxtIcon"
                                   Text="{TemplateBinding Icon}"
                                   VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                   HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                   FontFamily="{TemplateBinding FontFamily}"
                                   FontSize="{TemplateBinding FontSize}"
                                   FontWeight="{TemplateBinding FontWeight}"
                                   Foreground="{TemplateBinding Foreground}"
                                   FontStretch="{TemplateBinding FontStretch}"
                                   FontStyle="{TemplateBinding FontStyle}" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IconState"
                                 Value="Failed">
                            <Setter TargetName="TxtIcon"
                                    Property="Foreground"
                                    Value="{Binding FailedBrush, RelativeSource={RelativeSource AncestorType=local:StateIcon}}" />
                        </Trigger>
                        <Trigger Property="IconState"
                                 Value="Warning">
                            <Setter TargetName="TxtIcon"
                                    Property="Foreground"
                                    Value="{Binding WarningBrush, RelativeSource={RelativeSource AncestorType=local:StateIcon}}" />
                        </Trigger>
                        <Trigger Property="IconState"
                                 Value="Error">
                            <Setter TargetName="TxtIcon"
                                    Property="Foreground"
                                    Value="{Binding ErrorBrush, RelativeSource={RelativeSource AncestorType=local:StateIcon}}" />
                        </Trigger>
                        <Trigger Property="IconState"
                                 Value="Success">
                            <Setter TargetName="TxtIcon"
                                    Property="Foreground"
                                    Value="{Binding SuccessBrush, RelativeSource={RelativeSource AncestorType=local:StateIcon}}" />
                        </Trigger>
                        <Trigger Property="IconState"
                                 Value="Tips">
                            <Setter TargetName="TxtIcon"
                                    Property="Foreground"
                                    Value="{Binding TipsBrush, RelativeSource={RelativeSource AncestorType=local:StateIcon}}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type local:Pagination}">
        <Setter Property="SnapsToDevicePixels"
                Value="{StaticResource Default_SnapsToDevicePixels}" />
        <Setter Property="FontSize"
                Value="{StaticResource Default_FontSize}" />
        <Setter Property="Background"
                Value="#888888" />
        <Setter Property="HoverBrush"
                Value="#3E3E3E" />
        <Setter Property="Foreground"
                Value="White" />
        <Setter Property="CornerRadius"
                Value="2" />
        <Setter Property="Spacing"
                Value="5" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:Pagination}">
                    <Grid x:Name="GrdMain">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <RepeatButton x:Name="BtnPrevious"
                                      Command="{TemplateBinding PreviousCommand}"
                                      CommandParameter="{Binding RelativeSource={x:Static RelativeSource.TemplatedParent}}"
                                      Height="{Binding ActualHeight,ElementName=GrdMain}"
                                      MinWidth="{Binding ActualHeight,ElementName=GrdMain}"
                                      Background="{TemplateBinding Background}"
                                      Foreground="{TemplateBinding Foreground}"
                                      FontSize="{Binding FontSize,RelativeSource={RelativeSource AncestorType=local:Pagination},Converter={StaticResource Add5Converter}}"
                                      FontWeight="{TemplateBinding FontWeight}"
                                      FontFamily="{StaticResource FontAwesome}"
                                      FontStyle="{TemplateBinding FontStyle}"
                                      local:RepeatButtonHelper.HoverBrush="{TemplateBinding HoverBrush}"
                                      local:RepeatButtonHelper.CornerRadius="{TemplateBinding CornerRadius}"
                                      Content="&#xf104;" />
                        <ItemsControl Grid.Column="1"
                                      ItemsSource="{TemplateBinding PaginationItems}">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <StackPanel Orientation="Horizontal" />
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Grid Margin="{Binding Spacing,RelativeSource={RelativeSource AncestorType=local:Pagination},Converter={StaticResource DoubleToLeftMarginConverter}}"
                                          Height="{Binding ActualHeight,ElementName=GrdMain}"
                                          MinWidth="{Binding ActualHeight,ElementName=GrdMain}">
                                        <TextBlock x:Name="TxtDot"
                                                   Visibility="Collapsed"
                                                   Text="&#xf111; &#xf111; &#xf111;"
                                                   FontSize="3"
                                                   FontFamily="{StaticResource FontAwesome}"
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Center"
                                                   Foreground="{Binding Background,RelativeSource={RelativeSource AncestorType=local:Pagination}}"
                                                   FontWeight="{Binding FontWeight,RelativeSource={RelativeSource AncestorType=local:Pagination}}" />
                                        <Button x:Name="BtnItem"
                                                Command="{Binding IndexCommand,RelativeSource={RelativeSource AncestorType=local:Pagination}}"
                                                Background="{Binding Background,RelativeSource={RelativeSource AncestorType=local:Pagination}}"
                                                Foreground="{Binding Foreground,RelativeSource={RelativeSource AncestorType=local:Pagination}}"
                                                FontSize="{Binding FontSize,RelativeSource={RelativeSource AncestorType=local:Pagination}}"
                                                FontWeight="{Binding FontWeight,RelativeSource={RelativeSource AncestorType=local:Pagination}}"
                                                FontFamily="{Binding FontFamily,RelativeSource={RelativeSource AncestorType=local:Pagination}}"
                                                FontStyle="{Binding FontStyle,RelativeSource={RelativeSource AncestorType=local:Pagination}}"
                                                local:ButtonHelper.HoverBrush="{Binding HoverBrush,RelativeSource={RelativeSource AncestorType=local:Pagination}}"
                                                local:ButtonHelper.CornerRadius="{Binding CornerRadius,RelativeSource={RelativeSource AncestorType=local:Pagination}}"
                                                Content="{Binding Value}">
                                            <Button.CommandParameter>
                                                <MultiBinding Converter="{StaticResource CloneConverter}">
                                                    <Binding Path="."
                                                             RelativeSource="{RelativeSource AncestorType=local:Pagination}" />
                                                    <Binding Path="Content"
                                                             RelativeSource="{x:Static RelativeSource.Self}" />
                                                </MultiBinding>
                                            </Button.CommandParameter>
                                        </Button>
                                    </Grid>
                                    <DataTemplate.Triggers>
                                        <DataTrigger Binding="{Binding PaginationStyle,RelativeSource={RelativeSource AncestorType=local:Pagination}}"
                                                     Value="Classic">
                                            <Setter TargetName="BtnItem"
                                                    Property="local:ButtonHelper.ButtonStyle"
                                                    Value="Outline" />
                                            <Setter TargetName="TxtDot"
                                                    Property="Foreground"
                                                    Value="{Binding Foreground,RelativeSource={RelativeSource AncestorType=local:Pagination}}" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding PaginationStyle,RelativeSource={RelativeSource AncestorType=local:Pagination}}"
                                                     Value="Simple">
                                            <Setter TargetName="BtnItem"
                                                    Property="local:ButtonHelper.ButtonStyle"
                                                    Value="Link" />
                                            <Setter TargetName="TxtDot"
                                                    Property="Foreground"
                                                    Value="{Binding Foreground,RelativeSource={RelativeSource AncestorType=local:Pagination}}" />
                                        </DataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding IsSelected}"
                                                           Value="True" />
                                                <Condition Binding="{Binding PaginationStyle,RelativeSource={RelativeSource AncestorType=local:Pagination}}"
                                                           Value="Standard" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter TargetName="BtnItem"
                                                    Property="Background"
                                                    Value="{Binding HoverBrush,RelativeSource={RelativeSource AncestorType=local:Pagination}}" />
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding IsSelected}"
                                                           Value="True" />
                                                <Condition Binding="{Binding PaginationStyle,RelativeSource={RelativeSource AncestorType=local:Pagination}}"
                                                           Value="Classic" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter TargetName="BtnItem"
                                                    Property="BorderBrush"
                                                    Value="{Binding HoverBrush,RelativeSource={RelativeSource AncestorType=local:Pagination}}" />
                                            <Setter TargetName="BtnItem"
                                                    Property="Foreground"
                                                    Value="{Binding HoverBrush,RelativeSource={RelativeSource AncestorType=local:Pagination}}" />
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding IsSelected}"
                                                           Value="True" />
                                                <Condition Binding="{Binding PaginationStyle,RelativeSource={RelativeSource AncestorType=local:Pagination}}"
                                                           Value="Simple" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter TargetName="BtnItem"
                                                    Property="Foreground"
                                                    Value="{Binding HoverBrush,RelativeSource={RelativeSource AncestorType=local:Pagination}}" />
                                        </MultiDataTrigger>
                                        <DataTrigger Binding="{Binding Value}"
                                                     Value="{x:Null}">
                                            <Setter TargetName="BtnItem"
                                                    Property="Visibility"
                                                    Value="Collapsed" />
                                            <Setter TargetName="TxtDot"
                                                    Property="Visibility"
                                                    Value="Visible" />
                                        </DataTrigger>
                                    </DataTemplate.Triggers>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                        <RepeatButton x:Name="BtnNext"
                                      Command="{TemplateBinding NextCommand}"
                                      CommandParameter="{Binding RelativeSource={x:Static RelativeSource.TemplatedParent}}"
                                      Grid.Column="2"
                                      Height="{Binding ActualHeight,ElementName=GrdMain}"
                                      MinWidth="{Binding ActualHeight,ElementName=GrdMain}"
                                      Margin="{Binding Spacing,RelativeSource={RelativeSource AncestorType=local:Pagination},Converter={StaticResource DoubleToLeftMarginConverter}}"
                                      Background="{TemplateBinding Background}"
                                      Foreground="{TemplateBinding Foreground}"
                                      FontSize="{Binding FontSize,RelativeSource={RelativeSource AncestorType=local:Pagination},Converter={StaticResource Add5Converter}}"
                                      FontWeight="{TemplateBinding FontWeight}"
                                      FontFamily="{StaticResource FontAwesome}"
                                      FontStyle="{TemplateBinding FontStyle}"
                                      local:RepeatButtonHelper.HoverBrush="{TemplateBinding HoverBrush}"
                                      local:RepeatButtonHelper.CornerRadius="{TemplateBinding CornerRadius}"
                                      Content="&#xf105;" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="PaginationStyle"
                                 Value="Classic">
                            <Setter TargetName="BtnPrevious"
                                    Property="local:RepeatButtonHelper.RepeatButtonStyle"
                                    Value="Outline" />
                            <Setter TargetName="BtnNext"
                                    Property="local:RepeatButtonHelper.RepeatButtonStyle"
                                    Value="Outline" />
                            <Setter Property="Foreground"
                                    Value="#888888" />
                            <Setter Property="BorderBrush"
                                    Value="#888888" />
                            <Setter Property="Background"
                                    Value="Transparent" />
                        </Trigger>
                        <Trigger Property="PaginationStyle"
                                 Value="Simple">
                            <Setter TargetName="BtnPrevious"
                                    Property="local:RepeatButtonHelper.RepeatButtonStyle"
                                    Value="Link" />
                            <Setter TargetName="BtnNext"
                                    Property="local:RepeatButtonHelper.RepeatButtonStyle"
                                    Value="Link" />
                            <Setter Property="Foreground"
                                    Value="#888888" />
                            <Setter Property="Background"
                                    Value="Transparent" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type local:Loading}">
        <Setter Property="SnapsToDevicePixels"
                Value="{StaticResource Default_SnapsToDevicePixels}" />
        <Style.Triggers>
            <Trigger Property="LoadingStyle"
                     Value="Standard">
                <Setter Property="Foreground"
                        Value="#3E3E3E" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type local:Loading}">
                            <Grid>
                                <Line x:Name="Line1"
                                      X1="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      X2="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y1="{Binding ActualWidth, Converter={StaticResource LoadingLineYConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y2="0"
                                      Stroke="{TemplateBinding Foreground}"
                                      StrokeThickness="{Binding ActualWidth, Converter={StaticResource LoadingBackgroundThicknessConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Opacity="0" />
                                <Line x:Name="Line2"
                                      X1="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      X2="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y1="{Binding ActualWidth, Converter={StaticResource LoadingLineYConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y2="0"
                                      Stroke="{TemplateBinding Foreground}"
                                      StrokeThickness="{Binding ActualWidth, Converter={StaticResource LoadingBackgroundThicknessConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Opacity="0"
                                      RenderTransformOrigin="0.5,0.5">
                                    <Line.RenderTransform>
                                        <RotateTransform Angle="30" />
                                    </Line.RenderTransform>
                                </Line>
                                <Line x:Name="Line3"
                                      X1="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      X2="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y1="{Binding ActualWidth, Converter={StaticResource LoadingLineYConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y2="0"
                                      Stroke="{TemplateBinding Foreground}"
                                      StrokeThickness="{Binding ActualWidth, Converter={StaticResource LoadingBackgroundThicknessConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Opacity="0"
                                      RenderTransformOrigin="0.5,0.5">
                                    <Line.RenderTransform>
                                        <RotateTransform Angle="60" />
                                    </Line.RenderTransform>
                                </Line>
                                <Line x:Name="Line4"
                                      X1="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      X2="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y1="{Binding ActualWidth, Converter={StaticResource LoadingLineYConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y2="0"
                                      Stroke="{TemplateBinding Foreground}"
                                      StrokeThickness="{Binding ActualWidth, Converter={StaticResource LoadingBackgroundThicknessConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Opacity="0"
                                      RenderTransformOrigin="0.5,0.5">
                                    <Line.RenderTransform>
                                        <RotateTransform Angle="90" />
                                    </Line.RenderTransform>
                                </Line>
                                <Line x:Name="Line5"
                                      X1="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      X2="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y1="{Binding ActualWidth, Converter={StaticResource LoadingLineYConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y2="0"
                                      Stroke="{TemplateBinding Foreground}"
                                      StrokeThickness="{Binding ActualWidth, Converter={StaticResource LoadingBackgroundThicknessConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Opacity="0"
                                      RenderTransformOrigin="0.5,0.5">
                                    <Line.RenderTransform>
                                        <RotateTransform Angle="120" />
                                    </Line.RenderTransform>
                                </Line>
                                <Line x:Name="Line6"
                                      X1="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      X2="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y1="{Binding ActualWidth, Converter={StaticResource LoadingLineYConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y2="0"
                                      Stroke="{TemplateBinding Foreground}"
                                      StrokeThickness="{Binding ActualWidth, Converter={StaticResource LoadingBackgroundThicknessConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Opacity="0"
                                      RenderTransformOrigin="0.5,0.5">
                                    <Line.RenderTransform>
                                        <RotateTransform Angle="150" />
                                    </Line.RenderTransform>
                                </Line>
                                <Line x:Name="Line7"
                                      X1="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      X2="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y1="{Binding ActualWidth, Converter={StaticResource LoadingLineYConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y2="0"
                                      Stroke="{TemplateBinding Foreground}"
                                      StrokeThickness="{Binding ActualWidth, Converter={StaticResource LoadingBackgroundThicknessConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Opacity="0"
                                      RenderTransformOrigin="0.5,0.5">
                                    <Line.RenderTransform>
                                        <RotateTransform Angle="180" />
                                    </Line.RenderTransform>
                                </Line>
                                <Line x:Name="Line8"
                                      X1="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      X2="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y1="{Binding ActualWidth, Converter={StaticResource LoadingLineYConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y2="0"
                                      Stroke="{TemplateBinding Foreground}"
                                      StrokeThickness="{Binding ActualWidth, Converter={StaticResource LoadingBackgroundThicknessConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Opacity="0"
                                      RenderTransformOrigin="0.5,0.5">
                                    <Line.RenderTransform>
                                        <RotateTransform Angle="210" />
                                    </Line.RenderTransform>
                                </Line>
                                <Line x:Name="Line9"
                                      X1="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      X2="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y1="{Binding ActualWidth, Converter={StaticResource LoadingLineYConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y2="0"
                                      Stroke="{TemplateBinding Foreground}"
                                      StrokeThickness="{Binding ActualWidth, Converter={StaticResource LoadingBackgroundThicknessConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Opacity="0"
                                      RenderTransformOrigin="0.5,0.5">
                                    <Line.RenderTransform>
                                        <RotateTransform Angle="240" />
                                    </Line.RenderTransform>
                                </Line>
                                <Line x:Name="Line10"
                                      X1="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      X2="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y1="{Binding ActualWidth, Converter={StaticResource LoadingLineYConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y2="0"
                                      Stroke="{TemplateBinding Foreground}"
                                      StrokeThickness="{Binding ActualWidth, Converter={StaticResource LoadingBackgroundThicknessConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Opacity="0"
                                      RenderTransformOrigin="0.5,0.5">
                                    <Line.RenderTransform>
                                        <RotateTransform Angle="270" />
                                    </Line.RenderTransform>
                                </Line>
                                <Line x:Name="Line11"
                                      X1="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      X2="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y1="{Binding ActualWidth, Converter={StaticResource LoadingLineYConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y2="0"
                                      Stroke="{TemplateBinding Foreground}"
                                      StrokeThickness="{Binding ActualWidth, Converter={StaticResource LoadingBackgroundThicknessConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Opacity="0"
                                      RenderTransformOrigin="0.5,0.5">
                                    <Line.RenderTransform>
                                        <RotateTransform Angle="300" />
                                    </Line.RenderTransform>
                                </Line>
                                <Line x:Name="Line12"
                                      X1="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      X2="{Binding ActualWidth, Converter={StaticResource HalfConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y1="{Binding ActualWidth, Converter={StaticResource LoadingLineYConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Y2="0"
                                      Stroke="{TemplateBinding Foreground}"
                                      StrokeThickness="{Binding ActualWidth, Converter={StaticResource LoadingBackgroundThicknessConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      Opacity="0"
                                      RenderTransformOrigin="0.5,0.5">
                                    <Line.RenderTransform>
                                        <RotateTransform Angle="330" />
                                    </Line.RenderTransform>
                                </Line>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsRunning"
                                         Value="True">
                                    <Setter TargetName="Line1"
                                            Property="Opacity"
                                            Value="0.1" />
                                    <Setter TargetName="Line2"
                                            Property="Opacity"
                                            Value="0.1" />
                                    <Setter TargetName="Line3"
                                            Property="Opacity"
                                            Value="0.1" />
                                    <Setter TargetName="Line4"
                                            Property="Opacity"
                                            Value="0.1" />
                                    <Setter TargetName="Line5"
                                            Property="Opacity"
                                            Value="0.1" />
                                    <Setter TargetName="Line6"
                                            Property="Opacity"
                                            Value="0.1" />
                                    <Setter TargetName="Line7"
                                            Property="Opacity"
                                            Value="0.1" />
                                    <Setter TargetName="Line8"
                                            Property="Opacity"
                                            Value="0.1" />
                                    <Setter TargetName="Line9"
                                            Property="Opacity"
                                            Value="0.1" />
                                    <Setter TargetName="Line10"
                                            Property="Opacity"
                                            Value="0.1" />
                                    <Setter TargetName="Line11"
                                            Property="Opacity"
                                            Value="0.1" />
                                    <Setter TargetName="Line12"
                                            Property="Opacity"
                                            Value="0.1" />
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetName="Line1"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 From="1"
                                                                 To="0"
                                                                 Duration="0:0:1.2"
                                                                 RepeatBehavior="Forever" />
                                                <DoubleAnimation Storyboard.TargetName="Line2"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 From="1"
                                                                 To="0"
                                                                 Duration="0:0:1.2"
                                                                 BeginTime="0:0:0.1"
                                                                 RepeatBehavior="Forever" />
                                                <DoubleAnimation Storyboard.TargetName="Line3"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 From="1"
                                                                 To="0"
                                                                 Duration="0:0:1.2"
                                                                 BeginTime="0:0:0.2"
                                                                 RepeatBehavior="Forever" />
                                                <DoubleAnimation Storyboard.TargetName="Line4"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 From="1"
                                                                 To="0"
                                                                 Duration="0:0:1.2"
                                                                 BeginTime="0:0:0.3"
                                                                 RepeatBehavior="Forever" />
                                                <DoubleAnimation Storyboard.TargetName="Line5"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 From="1"
                                                                 To="0"
                                                                 Duration="0:0:1.2"
                                                                 BeginTime="0:0:0.4"
                                                                 RepeatBehavior="Forever" />
                                                <DoubleAnimation Storyboard.TargetName="Line6"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 From="1"
                                                                 To="0"
                                                                 Duration="0:0:1.2"
                                                                 BeginTime="0:0:0.5"
                                                                 RepeatBehavior="Forever" />
                                                <DoubleAnimation Storyboard.TargetName="Line7"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 From="1"
                                                                 To="0"
                                                                 Duration="0:0:1.2"
                                                                 BeginTime="0:0:0.6"
                                                                 RepeatBehavior="Forever" />
                                                <DoubleAnimation Storyboard.TargetName="Line8"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 From="1"
                                                                 To="0"
                                                                 Duration="0:0:1.2"
                                                                 BeginTime="0:0:0.7"
                                                                 RepeatBehavior="Forever" />
                                                <DoubleAnimation Storyboard.TargetName="Line9"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 From="1"
                                                                 To="0"
                                                                 Duration="0:0:1.2"
                                                                 BeginTime="0:0:0.8"
                                                                 RepeatBehavior="Forever" />
                                                <DoubleAnimation Storyboard.TargetName="Line10"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 From="1"
                                                                 To="0"
                                                                 Duration="0:0:1.2"
                                                                 BeginTime="0:0:0.9"
                                                                 RepeatBehavior="Forever" />
                                                <DoubleAnimation Storyboard.TargetName="Line11"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 From="1"
                                                                 To="0"
                                                                 Duration="0:0:1.2"
                                                                 BeginTime="0:0:1"
                                                                 RepeatBehavior="Forever" />
                                                <DoubleAnimation Storyboard.TargetName="Line12"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 From="1"
                                                                 To="0"
                                                                 Duration="0:0:1.2"
                                                                 BeginTime="0:0:1.1"
                                                                 RepeatBehavior="Forever" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    <Trigger.ExitActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetName="Line1"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 Duration="0:0:0.1" />
                                                <DoubleAnimation Storyboard.TargetName="Line2"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 Duration="0:0:0.1" />
                                                <DoubleAnimation Storyboard.TargetName="Line3"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 Duration="0:0:0.1" />
                                                <DoubleAnimation Storyboard.TargetName="Line4"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 Duration="0:0:0.1" />
                                                <DoubleAnimation Storyboard.TargetName="Line5"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 Duration="0:0:0.1" />
                                                <DoubleAnimation Storyboard.TargetName="Line6"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 Duration="0:0:0.1" />
                                                <DoubleAnimation Storyboard.TargetName="Line7"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 Duration="0:0:0.1" />
                                                <DoubleAnimation Storyboard.TargetName="Line8"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 Duration="0:0:0.1" />
                                                <DoubleAnimation Storyboard.TargetName="Line9"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 Duration="0:0:0.1" />
                                                <DoubleAnimation Storyboard.TargetName="Line10"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 Duration="0:0:0.1" />
                                                <DoubleAnimation Storyboard.TargetName="Line11"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 Duration="0:0:0.1" />
                                                <DoubleAnimation Storyboard.TargetName="Line12"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 Duration="0:0:0.1" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.ExitActions>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>
            <Trigger Property="LoadingStyle"
                     Value="Ring">
                <Setter Property="Background"
                        Value="#33AAAAAA" />
                <Setter Property="Foreground"
                        Value="#3E3E3E" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type local:Loading}">
                            <Grid x:Name="GrdMain"
                                  Visibility="Collapsed">
                                <Ellipse Stroke="{TemplateBinding Background}"
                                         StrokeThickness="{Binding ActualWidth, Converter={StaticResource LoadingBackgroundThicknessConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}" />
                                <Ellipse Stroke="{TemplateBinding Foreground}"
                                         StrokeThickness="{Binding ActualWidth, Converter={StaticResource LoadingBackgroundThicknessConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                         RenderTransformOrigin="0.5,0.5">
                                    <Ellipse.OpacityMask>
                                        <LinearGradientBrush EndPoint="0.5,1"
                                                             StartPoint="0.5,0">
                                            <GradientStop Color="Transparent"
                                                          Offset="0" />
                                            <GradientStop x:Name="Offset1"
                                                          Color="Transparent"
                                                          Offset="0.5" />
                                            <GradientStop x:Name="Offset2"
                                                          Color="White"
                                                          Offset="0.5001" />
                                            <GradientStop Color="White"
                                                          Offset="1" />
                                        </LinearGradientBrush>
                                    </Ellipse.OpacityMask>
                                    <Ellipse.RenderTransform>
                                        <RotateTransform x:Name="rotate"
                                                         Angle="0" />
                                    </Ellipse.RenderTransform>
                                </Ellipse>

                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsRunning"
                                         Value="True">
                                    <Setter TargetName="GrdMain"
                                            Property="Visibility"
                                            Value="Visible" />
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetName="rotate"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="360"
                                                                 Duration="0:0:1"
                                                                 RepeatBehavior="Forever">
                                                </DoubleAnimation>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    <Trigger.ExitActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetName="rotate"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 Duration="0:0:0">
                                                </DoubleAnimation>
                                            </Storyboard>
                                        </BeginStoryboard>

                                    </Trigger.ExitActions>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>
            <Trigger Property="LoadingStyle"
                     Value="Wave">
                <Setter Property="Foreground"
                        Value="#3E3E3E" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type local:Loading}">
                            <Grid x:Name="GrdMain"
                                  Visibility="Collapsed">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition />
                                    <ColumnDefinition />
                                    <ColumnDefinition />
                                    <ColumnDefinition />
                                    <ColumnDefinition />
                                </Grid.ColumnDefinitions>
                                <Rectangle Fill="{TemplateBinding Foreground}"
                                           Margin="1,0"
                                           RenderTransformOrigin="0.5,0.5">
                                    <Rectangle.RenderTransform>
                                        <ScaleTransform x:Name="Scale1"
                                                        ScaleY="1" />
                                    </Rectangle.RenderTransform>
                                </Rectangle>
                                <Rectangle Grid.Column="1"
                                           Margin="1,0"
                                           RenderTransformOrigin="0.5,0.5"
                                           Fill="{TemplateBinding Foreground}">
                                    <Rectangle.RenderTransform>
                                        <ScaleTransform x:Name="Scale2"
                                                        ScaleY="1" />
                                    </Rectangle.RenderTransform>
                                </Rectangle>
                                <Rectangle Grid.Column="2"
                                           Margin="1,0"
                                           RenderTransformOrigin="0.5,0.5"
                                           Fill="{TemplateBinding Foreground}">
                                    <Rectangle.RenderTransform>
                                        <ScaleTransform x:Name="Scale3"
                                                        ScaleY="1" />
                                    </Rectangle.RenderTransform>
                                </Rectangle>
                                <Rectangle Grid.Column="3"
                                           Margin="1,0"
                                           RenderTransformOrigin="0.5,0.5"
                                           Fill="{TemplateBinding Foreground}">
                                    <Rectangle.RenderTransform>
                                        <ScaleTransform x:Name="Scale4"
                                                        ScaleY="1" />
                                    </Rectangle.RenderTransform>
                                </Rectangle>
                                <Rectangle Grid.Column="4"
                                           Margin="1,0"
                                           RenderTransformOrigin="0.5,0.5"
                                           Fill="{TemplateBinding Foreground}">
                                    <Rectangle.RenderTransform>
                                        <ScaleTransform x:Name="Scale5"
                                                        ScaleY="1" />
                                    </Rectangle.RenderTransform>
                                </Rectangle>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsRunning"
                                         Value="True">
                                    <Setter TargetName="GrdMain"
                                            Property="Visibility"
                                            Value="Visible" />
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard RepeatBehavior="Forever">
                                                <DoubleAnimation Storyboard.TargetName="Scale1"
                                                                 Storyboard.TargetProperty="ScaleY"
                                                                 To="0.3"
                                                                 Duration="0:0:0.7"
                                                                 AutoReverse="True"
                                                                 RepeatBehavior="Forever" />
                                                <DoubleAnimation Storyboard.TargetName="Scale2"
                                                                 Storyboard.TargetProperty="ScaleY"
                                                                 To="0.3"
                                                                 Duration="0:0:0.7"
                                                                 BeginTime="0:0:0.1"
                                                                 AutoReverse="True"
                                                                 RepeatBehavior="Forever" />
                                                <DoubleAnimation Storyboard.TargetName="Scale3"
                                                                 Storyboard.TargetProperty="ScaleY"
                                                                 To="0.2"
                                                                 Duration="0:0:0.7"
                                                                 BeginTime="0:0:0.2"
                                                                 AutoReverse="True"
                                                                 RepeatBehavior="Forever" />
                                                <DoubleAnimation Storyboard.TargetName="Scale4"
                                                                 Storyboard.TargetProperty="ScaleY"
                                                                 To="0.3"
                                                                 Duration="0:0:0.7"
                                                                 BeginTime="0:0:0.3"
                                                                 AutoReverse="True"
                                                                 RepeatBehavior="Forever" />
                                                <DoubleAnimation Storyboard.TargetName="Scale5"
                                                                 Storyboard.TargetProperty="ScaleY"
                                                                 To="0.3"
                                                                 Duration="0:0:0.7"
                                                                 BeginTime="0:0:0.4"
                                                                 AutoReverse="True"
                                                                 RepeatBehavior="Forever" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    <Trigger.ExitActions>
                                        <BeginStoryboard>
                                            <Storyboard RepeatBehavior="Forever">
                                                <DoubleAnimation Storyboard.TargetName="Scale1"
                                                                 Storyboard.TargetProperty="ScaleY"
                                                                 Duration="0:0:0" />
                                                <DoubleAnimation Storyboard.TargetName="Scale2"
                                                                 Storyboard.TargetProperty="ScaleY"
                                                                 Duration="0:0:0" />
                                                <DoubleAnimation Storyboard.TargetName="Scale3"
                                                                 Storyboard.TargetProperty="ScaleY"
                                                                 Duration="0:0:0" />
                                                <DoubleAnimation Storyboard.TargetName="Scale4"
                                                                 Storyboard.TargetProperty="ScaleY"
                                                                 Duration="0:0:0" />
                                                <DoubleAnimation Storyboard.TargetName="Scale5"
                                                                 Storyboard.TargetProperty="ScaleY"
                                                                 Duration="0:0:0" />
                                            </Storyboard>
                                        </BeginStoryboard>

                                    </Trigger.ExitActions>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>
            <Trigger Property="LoadingStyle"
                     Value="Ring2">
                <Setter Property="Background"
                        Value="#33AAAAAA" />
                <Setter Property="Foreground"
                        Value="#3E3E3E" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type local:Loading}">
                            <Grid x:Name="GrdMain"
                                  Visibility="Collapsed">
                                <Ellipse Stroke="{TemplateBinding Background}"
                                         StrokeThickness="{Binding ActualWidth, Converter={StaticResource LoadingBackgroundThicknessConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}" />
                                <Path x:Name="Path"
                                      Stroke="{TemplateBinding Foreground}"
                                      StrokeThickness="{Binding ActualWidth, Converter={StaticResource LoadingBackgroundThicknessConverter}, RelativeSource={RelativeSource AncestorType=local:Loading}}"
                                      StrokeStartLineCap="Round"
                                      StrokeEndLineCap="Round"
                                      RenderTransformOrigin="0.5,0.5">
                                    <Path.Data>
                                        <MultiBinding Converter="{StaticResource RingProgressBarConverter}">
                                            <Binding Path="ActualWidth"
                                                     RelativeSource="{RelativeSource AncestorType=local:Loading}"></Binding>
                                            <Binding Path="ActualHeight"
                                                     RelativeSource="{RelativeSource AncestorType=local:Loading}"></Binding>
                                            <Binding Path="ActualWidth"
                                                     Converter="{StaticResource LoadingBackgroundThicknessConverter}"
                                                     RelativeSource="{RelativeSource AncestorType=local:Loading}"></Binding>
                                            <Binding Path="Minimum"
                                                     RelativeSource="{RelativeSource AncestorType=local:Loading}"></Binding>
                                            <Binding Path="Maximum"
                                                     RelativeSource="{RelativeSource AncestorType=local:Loading}"></Binding>
                                            <Binding Path="Value"
                                                     RelativeSource="{RelativeSource AncestorType=local:Loading}"></Binding>
                                        </MultiBinding>
                                    </Path.Data>
                                    <Path.RenderTransform>
                                        <RotateTransform x:Name="rotate"
                                                         Angle="0" />
                                    </Path.RenderTransform>
                                </Path>

                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsRunning"
                                         Value="True">
                                    <Setter TargetName="GrdMain"
                                            Property="Visibility"
                                            Value="Visible" />
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetName="rotate"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="360"
                                                                 Duration="0:0:1"
                                                                 RepeatBehavior="Forever" />
                                                <DoubleAnimation Storyboard.TargetProperty="Value"
                                                                 From="10"
                                                                 To="80"
                                                                 Duration="0:0:1"
                                                                 AutoReverse="True"
                                                                 RepeatBehavior="Forever">

                                                </DoubleAnimation>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    <Trigger.ExitActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetName="rotate"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 Duration="0:0:0" />
                                                <DoubleAnimation Storyboard.TargetProperty="Value"
                                                                 Duration="0:0:0" />
                                            </Storyboard>
                                        </BeginStoryboard>

                                    </Trigger.ExitActions>
                                </Trigger>
                            </ControlTemplate.Triggers>

                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>
            <Trigger Property="LoadingStyle"
                     Value="Classic">
                <Setter Property="Foreground"
                        Value="#3E3E3E" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type local:Loading}">
                            <Grid x:Name="GrdMain"
                                  Visibility="Collapsed">
                                <Border Margin="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=local:Loading},Converter={StaticResource LoadingClassicMarginConverter}}">
                                    <Border.RenderTransform>
                                        <RotateTransform x:Name="Rotate1"
                                                         Angle="-75" />
                                    </Border.RenderTransform>
                                    <Ellipse x:Name="Ell1"
                                             Fill="{TemplateBinding Foreground}"
                                             Width="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=local:Loading},Converter={StaticResource LoadingClassicEllipseSizeConverter}}"
                                             Height="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=local:Loading},Converter={StaticResource LoadingClassicEllipseSizeConverter}}"
                                             Opacity="0" />
                                </Border>
                                <Border Margin="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=local:Loading},Converter={StaticResource LoadingClassicMarginConverter}}">
                                    <Border.RenderTransform>
                                        <RotateTransform x:Name="Rotate2"
                                                         Angle="-75" />
                                    </Border.RenderTransform>
                                    <Ellipse x:Name="Ell2"
                                             Fill="{TemplateBinding Foreground}"
                                             Width="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=local:Loading},Converter={StaticResource LoadingClassicEllipseSizeConverter}}"
                                             Height="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=local:Loading},Converter={StaticResource LoadingClassicEllipseSizeConverter}}"
                                             Opacity="0" />
                                </Border>
                                <Border Margin="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=local:Loading},Converter={StaticResource LoadingClassicMarginConverter}}">
                                    <Border.RenderTransform>
                                        <RotateTransform x:Name="Rotate3"
                                                         Angle="-75" />
                                    </Border.RenderTransform>
                                    <Ellipse x:Name="Ell3"
                                             Fill="{TemplateBinding Foreground}"
                                             Width="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=local:Loading},Converter={StaticResource LoadingClassicEllipseSizeConverter}}"
                                             Height="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=local:Loading},Converter={StaticResource LoadingClassicEllipseSizeConverter}}"
                                             Opacity="0" />
                                </Border>
                                <Border Margin="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=local:Loading},Converter={StaticResource LoadingClassicMarginConverter}}">
                                    <Border.RenderTransform>
                                        <RotateTransform x:Name="Rotate4"
                                                         Angle="-75" />
                                    </Border.RenderTransform>
                                    <Ellipse x:Name="Ell4"
                                             Fill="{TemplateBinding Foreground}"
                                             Width="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=local:Loading},Converter={StaticResource LoadingClassicEllipseSizeConverter}}"
                                             Height="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=local:Loading},Converter={StaticResource LoadingClassicEllipseSizeConverter}}"
                                             Opacity="0" />
                                </Border>
                                <Border Margin="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=local:Loading},Converter={StaticResource LoadingClassicMarginConverter}}">
                                    <Border.RenderTransform>
                                        <RotateTransform x:Name="Rotate5"
                                                         Angle="-75" />
                                    </Border.RenderTransform>
                                    <Ellipse x:Name="Ell5"
                                             Fill="{TemplateBinding Foreground}"
                                             Width="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=local:Loading},Converter={StaticResource LoadingClassicEllipseSizeConverter}}"
                                             Height="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=local:Loading},Converter={StaticResource LoadingClassicEllipseSizeConverter}}"
                                             Opacity="0" />
                                </Border>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsRunning"
                                         Value="True">
                                    <Setter TargetName="GrdMain"
                                            Property="Visibility"
                                            Value="Visible" />
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard RepeatBehavior="Forever">
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Ell1"
                                                                               Storyboard.TargetProperty="Opacity">
                                                    <DiscreteDoubleKeyFrame KeyTime="0:0:0.3"
                                                                            Value="1" />
                                                </DoubleAnimationUsingKeyFrames>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Ell2"
                                                                               Storyboard.TargetProperty="Opacity">
                                                    <DiscreteDoubleKeyFrame KeyTime="0:0:0.45"
                                                                            Value="1" />
                                                </DoubleAnimationUsingKeyFrames>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Ell3"
                                                                               Storyboard.TargetProperty="Opacity">
                                                    <DiscreteDoubleKeyFrame KeyTime="0:0:0.6"
                                                                            Value="1" />
                                                </DoubleAnimationUsingKeyFrames>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Ell4"
                                                                               Storyboard.TargetProperty="Opacity">
                                                    <DiscreteDoubleKeyFrame KeyTime="0:0:0.75"
                                                                            Value="1" />
                                                </DoubleAnimationUsingKeyFrames>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Ell5"
                                                                               Storyboard.TargetProperty="Opacity">
                                                    <DiscreteDoubleKeyFrame KeyTime="0:0:0.9"
                                                                            Value="1" />
                                                </DoubleAnimationUsingKeyFrames>

                                                <DoubleAnimation Storyboard.TargetName="Rotate1"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 From="-135"
                                                                 To="185"
                                                                 Duration="0:0:1.4">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CircleEase EasingMode="EaseInOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate2"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 From="-135"
                                                                 To="185"
                                                                 Duration="0:0:1.4"
                                                                 BeginTime="0:0:0.2">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CircleEase EasingMode="EaseInOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate3"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 From="-135"
                                                                 To="185"
                                                                 Duration="0:0:1.4"
                                                                 BeginTime="0:0:0.4">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CircleEase EasingMode="EaseInOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate4"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 From="-135"
                                                                 To="185"
                                                                 Duration="0:0:1.4"
                                                                 BeginTime="0:0:0.6">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CircleEase EasingMode="EaseInOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate5"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 From="-135"
                                                                 To="185"
                                                                 Duration="0:0:1.4"
                                                                 BeginTime="0:0:0.8">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CircleEase EasingMode="EaseInOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>


                                                <DoubleAnimation Storyboard.TargetName="Rotate1"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="245"
                                                                 Duration="0:0:0.6"
                                                                 BeginTime="0:0:1.3">
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate2"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="245"
                                                                 Duration="0:0:0.6"
                                                                 BeginTime="0:0:1.5">
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate3"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="245"
                                                                 Duration="0:0:0.6"
                                                                 BeginTime="0:0:1.7">
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate4"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="245"
                                                                 Duration="0:0:0.6"
                                                                 BeginTime="0:0:1.9">
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate5"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="245"
                                                                 Duration="0:0:0.6"
                                                                 BeginTime="0:0:2.1">
                                                </DoubleAnimation>

                                                <DoubleAnimation Storyboard.TargetName="Rotate1"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="545"
                                                                 Duration="0:0:1.3"
                                                                 BeginTime="0:0:1.8">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CircleEase EasingMode="EaseInOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate2"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="545"
                                                                 Duration="0:0:1.3"
                                                                 BeginTime="0:0:2">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CircleEase EasingMode="EaseInOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate3"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="545"
                                                                 Duration="0:0:1.3"
                                                                 BeginTime="0:0:2.2">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CircleEase EasingMode="EaseInOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate4"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="545"
                                                                 Duration="0:0:1.3"
                                                                 BeginTime="0:0:2.4">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CircleEase EasingMode="EaseInOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate5"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="545"
                                                                 Duration="0:0:1.3"
                                                                 BeginTime="0:0:2.6">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CircleEase EasingMode="EaseInOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>


                                                <DoubleAnimation Storyboard.TargetName="Rotate1"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="605"
                                                                 Duration="0:0:0.6"
                                                                 BeginTime="0:0:3">
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate2"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="605"
                                                                 Duration="0:0:0.6"
                                                                 BeginTime="0:0:3.2">
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate3"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="605"
                                                                 Duration="0:0:0.6"
                                                                 BeginTime="0:0:3.4">
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate4"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="605"
                                                                 Duration="0:0:0.6"
                                                                 BeginTime="0:0:3.6">
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate5"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="605"
                                                                 Duration="0:0:0.6"
                                                                 BeginTime="0:0:3.8">
                                                </DoubleAnimation>


                                                <DoubleAnimation Storyboard.TargetName="Rotate1"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="915"
                                                                 Duration="0:0:1.3"
                                                                 BeginTime="0:0:3.5">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CircleEase EasingMode="EaseInOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate2"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="915"
                                                                 Duration="0:0:1.3"
                                                                 BeginTime="0:0:3.7">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CircleEase EasingMode="EaseInOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate3"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="915"
                                                                 Duration="0:0:1.3"
                                                                 BeginTime="0:0:3.9">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CircleEase EasingMode="EaseInOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate4"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="915"
                                                                 Duration="0:0:1.3"
                                                                 BeginTime="0:0:4.1">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CircleEase EasingMode="EaseInOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetName="Rotate5"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 To="915"
                                                                 Duration="0:0:1.3"
                                                                 BeginTime="0:0:4.3">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CircleEase EasingMode="EaseInOut" />
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>

                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Ell1"
                                                                               Storyboard.TargetProperty="Opacity">
                                                    <DiscreteDoubleKeyFrame KeyTime="0:0:4.5"
                                                                            Value="0" />
                                                </DoubleAnimationUsingKeyFrames>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Ell2"
                                                                               Storyboard.TargetProperty="Opacity">
                                                    <DiscreteDoubleKeyFrame KeyTime="0:0:4.7"
                                                                            Value="0" />
                                                </DoubleAnimationUsingKeyFrames>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Ell3"
                                                                               Storyboard.TargetProperty="Opacity">
                                                    <DiscreteDoubleKeyFrame KeyTime="0:0:4.9"
                                                                            Value="0" />
                                                </DoubleAnimationUsingKeyFrames>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Ell4"
                                                                               Storyboard.TargetProperty="Opacity">
                                                    <DiscreteDoubleKeyFrame KeyTime="0:0:5"
                                                                            Value="0" />
                                                </DoubleAnimationUsingKeyFrames>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Ell5"
                                                                               Storyboard.TargetProperty="Opacity">
                                                    <DiscreteDoubleKeyFrame KeyTime="0:0:5.3"
                                                                            Value="0" />
                                                </DoubleAnimationUsingKeyFrames>

                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Ell1"
                                                                               Storyboard.TargetProperty="Opacity">
                                                    <DiscreteDoubleKeyFrame KeyTime="0:0:5.5"
                                                                            Value="0" />
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    <Trigger.ExitActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Ell1"
                                                                               Storyboard.TargetProperty="Opacity" />
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Ell2"
                                                                               Storyboard.TargetProperty="Opacity" />
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Ell3"
                                                                               Storyboard.TargetProperty="Opacity" />
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Ell4"
                                                                               Storyboard.TargetProperty="Opacity" />
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Ell5"
                                                                               Storyboard.TargetProperty="Opacity" />

                                                <DoubleAnimation Storyboard.TargetName="Rotate1"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 Duration="0:0:0" />
                                                <DoubleAnimation Storyboard.TargetName="Rotate2"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 Duration="0:0:0" />
                                                <DoubleAnimation Storyboard.TargetName="Rotate3"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 Duration="0:0:0" />
                                                <DoubleAnimation Storyboard.TargetName="Rotate4"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 Duration="0:0:0" />
                                                <DoubleAnimation Storyboard.TargetName="Rotate5"
                                                                 Storyboard.TargetProperty="Angle"
                                                                 Duration="0:0:0" />
                                            </Storyboard>
                                        </BeginStoryboard>

                                    </Trigger.ExitActions>
                                </Trigger>
                            </ControlTemplate.Triggers>

                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>

        </Style.Triggers>
    </Style>

    <Style TargetType="{x:Type local:Carousel}">
        <Setter Property="SnapsToDevicePixels"
                Value="{StaticResource Default_SnapsToDevicePixels}" />
        <Setter Property="FontSize"
                Value="{StaticResource Default_FontSize}" />
        <Setter Property="SnapsToDevicePixels"
                Value="{StaticResource Default_SnapsToDevicePixels}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:Carousel}">
                    <Grid Background="{TemplateBinding Background}"
                          ClipToBounds="True">
                        <StackPanel Orientation="{TemplateBinding Orientation}">
                            <ItemsControl ItemsSource="{TemplateBinding Children}"
                                          VerticalAlignment="Stretch"
                                          HorizontalAlignment="Stretch">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <StackPanel Orientation="{Binding Orientation,RelativeSource={RelativeSource AncestorType=local:Carousel}}" />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <ContentControl Content="{Binding}" />
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </StackPanel>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type local:MultiComboBox}">
        <Setter Property="SnapsToDevicePixels"
                Value="{StaticResource Default_SnapsToDevicePixels}" />
        <Setter Property="FontSize"
                Value="{StaticResource Default_FontSize}" />
        <Setter Property="Foreground"
                Value="#3E3E3E" />
        <Setter Property="Background"
                Value="White" />
        <Setter Property="BorderBrush"
                Value="LightGray" />
        <Setter Property="BorderThickness"
                Value="1" />
        <Setter Property="VerticalContentAlignment"
                Value="Center" />
        <Setter Property="Padding"
                Value="5,0,0,0" />
        <Setter Property="ItemPadding"
                Value="5,0,0,0" />
        <Setter Property="ShadowColor"
                Value="#888888" />
        <Setter Property="MaxDropDownHeight"
                Value="150" />
        <Setter Property="ItemHeight"
                Value="30" />
        <Setter Property="VirtualizingStackPanel.IsVirtualizing"
                Value="True" />
        <Setter Property="VirtualizingStackPanel.VirtualizationMode"
                Value="Recycling" />
        <Setter Property="ScrollViewer.VerticalScrollBarVisibility"
                Value="Auto" />
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility"
                Value="Disabled" />
        <Setter Property="SearchTextBoxWatermark"
                Value="Search ..." />
        <Setter Property="local:IconHelper.FontSize"
                Value="{Binding FontSize, Converter={StaticResource Add3Converter},RelativeSource={RelativeSource Self},Mode=OneWay}" />
        <Setter Property="local:IconHelper.Foreground"
                Value="{Binding Foreground,RelativeSource={RelativeSource Self},Mode=OneWay}" />
        <Setter Property="local:IconHelper.FontFamily"
                Value="{StaticResource FontAwesome}" />
        <Setter Property="local:ScrollViewerHelper.ScrollBarThickness"
                Value="6" />
        <Setter Property="local:ScrollViewerHelper.ScrollBarCornerRadius"
                Value="3" />
        <Setter Property="ShadowColor"
                Value="#888888" />
        <Setter Property="CheckBoxStyle">
            <Setter.Value>
                <Style TargetType="{x:Type CheckBox}"
                       BasedOn="{StaticResource {x:Type CheckBox}}">
                    <Setter Property="BorderThickness"
                            Value="0" />
                    <Setter Property="local:CheckBoxHelper.BoxHeight"
                            Value="18" />
                    <Setter Property="local:CheckBoxHelper.BoxWidth"
                            Value="18" />
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="ItemContainerStyle">
            <Setter.Value>
                <Style>

                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:MultiComboBox}">
                    <Grid>
                        <Border x:Name="Border"
                                Background="{TemplateBinding Background}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                CornerRadius="{TemplateBinding CornerRadius}">
                        </Border>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition Width="*"></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <Label x:Name="LblIcon"
                                   Padding="10,0,7,0"
                                   VerticalContentAlignment="Center"
                                   HorizontalContentAlignment="Center"
                                   Content="{Binding Icon,Converter={StaticResource IconConverter},RelativeSource={RelativeSource AncestorType=local:MultiComboBox}, Mode=OneWay}"
                                   Foreground="{Binding Path=(local:IconHelper.Foreground),RelativeSource={RelativeSource AncestorType=local:MultiComboBox}, Mode=OneWay}"
                                   FontSize="{Binding Path=(local:IconHelper.FontSize),RelativeSource={RelativeSource AncestorType=local:MultiComboBox}, Mode=OneWay}"
                                   FontFamily="{Binding Path=(local:IconHelper.FontFamily),RelativeSource={RelativeSource AncestorType=local:MultiComboBox}, Mode=OneWay}"></Label>
                            <ContentPresenter x:Name="ContentSite"
                                              Grid.Column="1"
                                              Margin="{TemplateBinding Padding}"
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              Content="{TemplateBinding Text}"
                                              IsHitTestVisible="False" />
                            <TextBlock  x:Name="TxtWatermark"
                                        Grid.Column="1"
                                        Margin="{TemplateBinding Padding}"
                                        TextWrapping="Wrap"
                                        Focusable="False"
                                        IsHitTestVisible="False"
                                        Visibility="Collapsed"
                                        Text="{TemplateBinding Watermark}"
                                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                        HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                        Opacity="0.6" />
                        </Grid>
                        <ToggleButton x:Name="ToggleButton"
                                      Focusable="false"
                                      IsChecked="{Binding Path=IsOpen, Mode=TwoWay, ElementName=Popup}"
                                      ClickMode="Press"
                                      Foreground="{TemplateBinding Foreground}"
                                      Background="Transparent"
                                      BorderBrush="Transparent"
                                      BorderThickness="0">
                            <ToggleButton.Style>
                                <Style TargetType="ToggleButton">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="ToggleButton">
                                                <Grid Background="Transparent">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="*" />
                                                        <ColumnDefinition Width="30" />
                                                    </Grid.ColumnDefinitions>
                                                    <Path x:Name="arrow1"
                                                          Opacity="1"
                                                          VerticalAlignment="Center"
                                                          Grid.Column="1"
                                                          HorizontalAlignment="Center"
                                                          Data="M5,4 H14 L9.5,10 Z"
                                                          Width="15"
                                                          Height="15"
                                                          Fill="{TemplateBinding Foreground}"
                                                          RenderTransformOrigin="0.5,0.5" />
                                                    <Path x:Name="arrow2"
                                                          Opacity="0"
                                                          VerticalAlignment="Center"
                                                          Grid.Column="1"
                                                          HorizontalAlignment="Center"
                                                          Data="M5,10 H14 L9.5,4.5 Z"
                                                          Width="15"
                                                          Height="15"
                                                          Fill="{TemplateBinding Foreground}"
                                                          RenderTransformOrigin="0.5,0.5" />
                                                </Grid>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsChecked"
                                                             Value="True">
                                                        <Trigger.EnterActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetName="arrow1"
                                                                                     Storyboard.TargetProperty="Opacity"
                                                                                     To="0"
                                                                                     Duration="0:0:0.2"></DoubleAnimation>
                                                                    <DoubleAnimation Storyboard.TargetName="arrow2"
                                                                                     Storyboard.TargetProperty="Opacity"
                                                                                     To="1"
                                                                                     Duration="0:0:0.2"></DoubleAnimation>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </Trigger.EnterActions>
                                                        <Trigger.ExitActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetName="arrow1"
                                                                                     Storyboard.TargetProperty="Opacity"
                                                                                     To="1"
                                                                                     Duration="0:0:0.2"></DoubleAnimation>
                                                                    <DoubleAnimation Storyboard.TargetName="arrow2"
                                                                                     Storyboard.TargetProperty="Opacity"
                                                                                     To="0"
                                                                                     Duration="0:0:0.2"></DoubleAnimation>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </Trigger.ExitActions>
                                                    </Trigger>

                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </ToggleButton.Style>
                        </ToggleButton>
                        <internal:NotTopMostPopup Placement="Bottom"
                                                  x:Name="Popup"
                                                  Focusable="False"
                                                  Tag="{Binding ElementName=ToggleButton}"
                                                  AllowsTransparency="True"
                                                  PopupAnimation="Slide"
                                                  IsOpen="{Binding IsDropDownOpen,RelativeSource={RelativeSource AncestorType=local:MultiComboBox}}"
                                                  StaysOpen="{Binding StaysOpen,RelativeSource={RelativeSource AncestorType=local:MultiComboBox}}">
                            <Grid MaxHeight="{TemplateBinding MaxDropDownHeight}"
                                  MinWidth="{Binding ActualWidth,ElementName=ToggleButton}"
                                  x:Name="DropDown">
                                <Border x:Name="DropDownBorder"
                                        Margin="0,0,0,10"
                                        Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="2">
                                    <Border.Effect>
                                        <DropShadowEffect ShadowDepth="0"
                                                          BlurRadius="10"
                                                          Opacity="1"
                                                          Color="{Binding Path=ShadowColor,Converter={StaticResource NullableColorToColoConverter},RelativeSource={RelativeSource AncestorType=local:MultiComboBox}, Mode=OneWay}"></DropShadowEffect>
                                    </Border.Effect>
                                </Border>
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="*" />
                                    </Grid.RowDefinitions>
                                    <TextBox x:Name="TbSearch"
                                             Visibility="Collapsed"
                                             Height="30"
                                             Padding="5,0,0,0"
                                             BorderBrush="Transparent"
                                             BorderThickness="0"
                                             local:TextBoxHelper.FocusedShadowColor="Transparent"
                                             Foreground="{TemplateBinding Foreground}"
                                             local:TextBoxHelper.Watermark="{Binding SearchTextBoxWatermark,RelativeSource={RelativeSource AncestorType=local:MultiComboBox}}"
                                             Text="{Binding SearchText,RelativeSource={RelativeSource AncestorType=local:MultiComboBox},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                             Margin="1,5,1,0" />
                                    <ScrollViewer Grid.Row="1"
                                                  VerticalScrollBarVisibility="{Binding Path=(ScrollViewer.VerticalScrollBarVisibility),RelativeSource={RelativeSource AncestorType=local:MultiComboBox}, Mode=OneWay}"
                                                  HorizontalScrollBarVisibility="{Binding Path=(ScrollViewer.HorizontalScrollBarVisibility),RelativeSource={RelativeSource AncestorType=local:MultiComboBox}, Mode=OneWay}"
                                                  local:ScrollViewerHelper.ScrollBarThickness="{Binding Path=(local:ScrollViewerHelper.ScrollBarThickness),RelativeSource={RelativeSource AncestorType=local:MultiComboBox},Mode=OneWay}"
                                                  local:ScrollViewerHelper.ScrollBarCornerRadius="{Binding Path=(local:ScrollViewerHelper.ScrollBarCornerRadius),RelativeSource={RelativeSource AncestorType=local:MultiComboBox},Mode=OneWay}"
                                                  Margin="1,5,1,15">
                                        <ItemsPresenter />
                                    </ScrollViewer>
                                </Grid>
                            </Grid>
                        </internal:NotTopMostPopup>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <DataTrigger Binding="{Binding Icon,Converter={StaticResource IsNullConverter},RelativeSource={RelativeSource Self}}"
                                     Value="True">
                            <Setter TargetName="LblIcon"
                                    Property="Visibility"
                                    Value="Collapsed" />
                        </DataTrigger>
                        <Trigger Property="IsSearchTextBoxVisible"
                                 Value="True">
                            <Setter TargetName="TbSearch"
                                    Property="Visibility"
                                    Value="Visible" />
                        </Trigger>
                        <DataTrigger Binding="{Binding Text,Converter={StaticResource IsNullOrEmptyConverter},RelativeSource={RelativeSource Self}}"
                                     Value="True">
                            <Setter Property="Visibility"
                                    TargetName="TxtWatermark"
                                    Value="Visible" />
                        </DataTrigger>
                        <Trigger Property="IsMouseOver"
                                 Value="True">
                            <Setter Property="Opacity"
                                    Value="1" />
                        </Trigger>
                        <Trigger Property="IsMouseOver"
                                 Value="False">
                            <Setter Property="Opacity"
                                    Value="0.9" />
                        </Trigger>
                        <Trigger Property="IsFocused"
                                 Value="True">
                            <Setter Property="Opacity"
                                    Value="1" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type local:MultiComboBoxItem}">
        <Setter Property="SnapsToDevicePixels"
                Value="{StaticResource Default_SnapsToDevicePixels}" />
        <Setter Property="FontSize"
                Value="{StaticResource Default_FontSize}" />
        <Setter Property="Foreground"
                Value="#3E3E3E" />
        <Setter Property="Background"
                Value="Transparent" />
        <Setter Property="VerticalContentAlignment"
                Value="Center" />
        <Setter Property="CheckBoxStyle"
                Value="{Binding CheckBoxStyle,RelativeSource={RelativeSource AncestorType=local:MultiComboBox}}" />
        <Setter Property="Padding"
                Value="{Binding ItemPadding,RelativeSource={RelativeSource AncestorType=local:MultiComboBox}}" />
        <Setter Property="Height"
                Value="{Binding ItemHeight,RelativeSource={RelativeSource AncestorType=local:MultiComboBox}}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:MultiComboBoxItem}">
                    <Grid>
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}" />

                        <CheckBox Style="{TemplateBinding CheckBoxStyle}"
                                  IsChecked="{Binding IsSelected, RelativeSource={RelativeSource AncestorType={x:Type local:MultiComboBoxItem}}, Mode=TwoWay}"
                                  VerticalAlignment="Stretch"
                                  HorizontalAlignment="Stretch"
                                  VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                  HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                  Margin="{TemplateBinding Padding}"
                                  Content="{TemplateBinding Content}" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>

    </Style>
    <Style TargetType="{x:Type local:DateTimePicker}">
        <Setter Property="SnapsToDevicePixels"
                Value="{StaticResource Default_SnapsToDevicePixels}" />
        <Setter Property="FontSize"
                Value="{StaticResource Default_FontSize}" />
        <Setter Property="Foreground"
                Value="#3E3E3E" />
        <Setter Property="Background"
                Value="White" />
        <Setter Property="BorderBrush"
                Value="LightGray" />
        <Setter Property="BorderThickness"
                Value="1" />
        <Setter Property="Padding"
                Value="5,0,0,0" />
        <Setter Property="ShadowColor"
                Value="#888888" />
        <Setter Property="CornerRadius"
                Value="2" />
        <Setter Property="Icon"
                Value="&#xf073;" />
        <Setter Property="ThemeBrush"
                Value="#3E3E3E" />
        <Setter Property="VerticalContentAlignment"
                Value="Center" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:DateTimePicker}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="{Binding HeaderWidth,RelativeSource={RelativeSource AncestorType=local:DateTimePicker}, Converter={StaticResource GridLengthConverter}}" />
                            <ColumnDefinition Width="*"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <ContentControl x:Name="ContentHeader"
                                        VerticalAlignment="Center"
                                        Content="{TemplateBinding Header}" />
                        <Grid Grid.Column="1">
                            <Border x:Name="Border"
                                    Background="{TemplateBinding Background}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    CornerRadius="{TemplateBinding CornerRadius}">
                            </Border>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                </Grid.ColumnDefinitions>
                                <Label x:Name="LblIcon"
                                       Padding="10,0,7,0"
                                       VerticalContentAlignment="Center"
                                       HorizontalContentAlignment="Center"
                                       Content="{Binding Icon,RelativeSource={RelativeSource AncestorType=local:DateTimePicker},Converter={StaticResource IconConverter}}"
                                       Foreground="{TemplateBinding Foreground}"
                                       FontFamily="/Panuon.UI.Silver;component/Resources/#fontawesome"></Label>
                                <ContentPresenter x:Name="ContentSite"
                                                  Grid.Column="1"
                                                  Margin="{TemplateBinding Padding}"
                                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                  ContentSource="Text"
                                                  IsHitTestVisible="False" />
                            </Grid>
                            <ToggleButton x:Name="ToggleButton"
                                          Focusable="false"
                                          IsChecked="{Binding Path=IsOpen, Mode=TwoWay, ElementName=Popup}"
                                          ClickMode="Press"
                                          Foreground="{TemplateBinding Foreground}"
                                          Background="Transparent"
                                          BorderBrush="Transparent"
                                          BorderThickness="0">
                                <ToggleButton.Style>
                                    <Style TargetType="ToggleButton">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ToggleButton">
                                                    <Grid Background="Transparent">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="*" />
                                                            <ColumnDefinition Width="30" />
                                                        </Grid.ColumnDefinitions>
                                                        <Path x:Name="arrow1"
                                                              Opacity="1"
                                                              VerticalAlignment="Center"
                                                              Grid.Column="1"
                                                              HorizontalAlignment="Center"
                                                              Data="M5,4 H14 L9.5,10 Z"
                                                              Width="15"
                                                              Height="15"
                                                              Fill="{TemplateBinding Foreground}"
                                                              RenderTransformOrigin="0.5,0.5" />
                                                        <Path x:Name="arrow2"
                                                              Opacity="0"
                                                              VerticalAlignment="Center"
                                                              Grid.Column="1"
                                                              HorizontalAlignment="Center"
                                                              Data="M5,10 H14 L9.5,4.5 Z"
                                                              Width="15"
                                                              Height="15"
                                                              Fill="{TemplateBinding Foreground}"
                                                              RenderTransformOrigin="0.5,0.5" />
                                                    </Grid>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsChecked"
                                                                 Value="True">
                                                            <Trigger.EnterActions>
                                                                <BeginStoryboard>
                                                                    <Storyboard>
                                                                        <DoubleAnimation Storyboard.TargetName="arrow1"
                                                                                         Storyboard.TargetProperty="Opacity"
                                                                                         To="0"
                                                                                         Duration="0:0:0.2"></DoubleAnimation>
                                                                        <DoubleAnimation Storyboard.TargetName="arrow2"
                                                                                         Storyboard.TargetProperty="Opacity"
                                                                                         To="1"
                                                                                         Duration="0:0:0.2"></DoubleAnimation>
                                                                    </Storyboard>
                                                                </BeginStoryboard>
                                                            </Trigger.EnterActions>
                                                            <Trigger.ExitActions>
                                                                <BeginStoryboard>
                                                                    <Storyboard>
                                                                        <DoubleAnimation Storyboard.TargetName="arrow1"
                                                                                         Storyboard.TargetProperty="Opacity"
                                                                                         To="1"
                                                                                         Duration="0:0:0.2"></DoubleAnimation>
                                                                        <DoubleAnimation Storyboard.TargetName="arrow2"
                                                                                         Storyboard.TargetProperty="Opacity"
                                                                                         To="0"
                                                                                         Duration="0:0:0.2"></DoubleAnimation>
                                                                    </Storyboard>
                                                                </BeginStoryboard>
                                                            </Trigger.ExitActions>
                                                        </Trigger>

                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ToggleButton.Style>
                            </ToggleButton>
                            <internal:NotTopMostPopup Placement="Bottom"
                                                      x:Name="Popup"
                                                      Focusable="False"
                                                      StaysOpen="{TemplateBinding StaysOpen}"
                                                      Tag="{Binding ElementName=ToggleButton}"
                                                      AllowsTransparency="True"
                                                      PopupAnimation="Slide">
                                <Grid x:Name="DropDown">
                                    <Border x:Name="DropDownBorder"
                                            Margin="0,0,0,10"
                                            Background="{TemplateBinding Background}"
                                            BorderBrush="{TemplateBinding BorderBrush}"
                                            BorderThickness="{TemplateBinding BorderThickness}"
                                            CornerRadius="{Binding CornerRadius,RelativeSource={RelativeSource AncestorType=local:DateTimePicker}}">
                                        <Border.Effect>
                                            <DropShadowEffect ShadowDepth="0"
                                                              BlurRadius="10"
                                                              Opacity="1"
                                                              Color="{Binding ShadowColor,Converter={StaticResource NullableColorToColoConverter},RelativeSource={RelativeSource AncestorType=local:DateTimePicker}}"></DropShadowEffect>
                                        </Border.Effect>
                                    </Border>
                                    <Grid Margin="1,1,1,10">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <local:Calendar x:Name="Calendar"
                                                        ThemeBrush="{Binding ThemeBrush,RelativeSource={RelativeSource AncestorType=local:DateTimePicker},Mode=OneWay}"
                                                        MaxDate="{Binding MaxDate,RelativeSource={RelativeSource AncestorType=local:DateTimePicker},Mode=OneWay,UpdateSourceTrigger=PropertyChanged}"
                                                        MinDate="{Binding MinDate,RelativeSource={RelativeSource AncestorType=local:DateTimePicker},Mode=OneWay,UpdateSourceTrigger=PropertyChanged}"
                                                        SelectedDate="{Binding SelectedDateTime,RelativeSource={RelativeSource AncestorType=local:DateTimePicker},Mode=TwoWay}"
                                                        IsSundayFirst="{Binding IsSundayFirst,RelativeSource={RelativeSource AncestorType=local:DateTimePicker},Mode=OneWay}"
                                                        Width="300"
                                                        Height="300" />
                                        <Border HorizontalAlignment="Right"
                                                BorderThickness="0,0,1,0"
                                                BorderBrush="LightGray"
                                                Margin="0,10" />
                                        <local:Clock x:Name="Clock"
                                                     ThemeBrush="{Binding ThemeBrush,RelativeSource={RelativeSource AncestorType=local:DateTimePicker},Mode=OneWay}"
                                                     SelectedTime="{Binding SelectedDateTime,RelativeSource={RelativeSource AncestorType=local:DateTimePicker},Mode=TwoWay}"
                                                     Grid.Column="1"
                                                     Width="300"
                                                     Height="300" />
                                    </Grid>
                                </Grid>
                            </internal:NotTopMostPopup>
                        </Grid>

                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="DateTimePickerMode"
                                 Value="Date">
                            <Setter TargetName="Clock"
                                    Property="Visibility"
                                    Value="Collapsed" />
                        </Trigger>
                        <Trigger Property="DateTimePickerMode"
                                 Value="Time">
                            <Setter TargetName="Calendar"
                                    Property="Visibility"
                                    Value="Collapsed" />
                        </Trigger>

                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="DateTimePickerMode"
                     Value="Time">
                <Setter Property="Icon"
                        Value="&#xf017;" />
            </Trigger>
            <Trigger Property="IsEnabled"
                     Value="False">
                <Setter Property="Opacity"
                        Value="0.4" />
            </Trigger>
        </Style.Triggers>
    </Style>

    <Style TargetType="{x:Type local:DropDown}">
        <Setter Property="SnapsToDevicePixels"
                Value="{StaticResource Default_SnapsToDevicePixels}" />
        <Setter Property="FontSize"
                Value="{StaticResource Default_FontSize}" />
        <Setter Property="Foreground"
                Value="#3E3E3E" />
        <Setter Property="Background"
                Value="White" />
        <Setter Property="BorderBrush"
                Value="Transparent" />
        <Setter Property="BorderThickness"
                Value="1" />
        <Setter Property="Padding"
                Value="5,0,0,0" />
        <Setter Property="ShadowColor"
                Value="#DDDDDD" />
        <Setter Property="VerticalContentAlignment"
                Value="Center" />
        <Setter Property="CornerRadius"
                Value="3" />
        <Setter Property="DropDownPlacement"
                Value="LeftBottom" />
        <Setter Property="IsAngleVisible"
                Value="True" />
        <Style.Triggers>
            <Trigger Property="DropDownPlacement"
                     Value="LeftBottom">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type local:DropDown}">
                            <Grid>
                                <Grid>
                                    <ContentPresenter x:Name="Content"
                                                      ContentSource="Content"
                                                      IsHitTestVisible="False" />
                                </Grid>
                                <ToggleButton x:Name="ToggleButton"
                                              Focusable="false"
                                              IsChecked="{Binding IsOpen,RelativeSource={RelativeSource AncestorType=local:DropDown},Mode=TwoWay}"
                                              ClickMode="Press"
                                              Foreground="{TemplateBinding Foreground}"
                                              Background="Transparent"
                                              BorderBrush="Transparent"
                                              BorderThickness="0">
                                    <ToggleButton.Style>
                                        <Style TargetType="ToggleButton">
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="ToggleButton">
                                                        <Grid Background="Transparent" />
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </ToggleButton.Style>
                                </ToggleButton>
                                <internal:NotTopMostPopup Placement="Left"
                                                          IsOpen="{Binding IsOpen,RelativeSource={RelativeSource AncestorType=local:DropDown},Mode=TwoWay}"
                                                          x:Name="Popup"
                                                          PlacementTarget="{Binding ElementName=ToggleButton}"
                                                          HorizontalOffset="{Binding ActualWidth, ElementName=ToggleButton}"
                                                          VerticalOffset="{Binding ActualHeight, ElementName=ToggleButton}"
                                                          Focusable="False"
                                                          Tag="{Binding ElementName=ToggleButton}"
                                                          AllowsTransparency="True"
                                                          PopupAnimation="Slide"
                                                          StaysOpen="{Binding StaysOpen,RelativeSource={RelativeSource AncestorType=local:DropDown},Mode=OneWay}">
                                    <Grid x:Name="DropDown"
                                          Margin="1,1,1,10">
                                        <Path x:Name="Path"
                                              Fill="{TemplateBinding Background}"
                                              Stroke="{TemplateBinding BorderBrush}"
                                              StrokeThickness="{TemplateBinding BorderThickness}">
                                            <Path.Data>
                                                <MultiBinding Converter="{StaticResource DropDownBorderPathConverter}">
                                                    <Binding Path="ActualWidth"
                                                             ElementName="Path" />
                                                    <Binding Path="ActualHeight"
                                                             ElementName="Path" />
                                                    <Binding Path="ActualWidth"
                                                             ElementName="Content" />
                                                    <Binding Path="ActualHeight"
                                                             ElementName="Content" />
                                                    <Binding Path="DropDownPlacement"
                                                             RelativeSource="{RelativeSource AncestorType=local:DropDown}" />
                                                    <Binding Path="CornerRadius"
                                                             RelativeSource="{RelativeSource AncestorType=local:DropDown}" />
                                                    <Binding Path="IsAngleVisible"
                                                             RelativeSource="{RelativeSource AncestorType=local:DropDown}" />
                                                </MultiBinding>
                                            </Path.Data>
                                            <Path.Effect>
                                                <DropShadowEffect ShadowDepth="0"
                                                                  BlurRadius="8"
                                                                  Opacity="1"
                                                                  Color="{Binding ShadowColor,Converter={StaticResource NullableColorToColoConverter},RelativeSource={RelativeSource AncestorType=local:DropDown}}"></DropShadowEffect>
                                            </Path.Effect>
                                        </Path>
                                        <Grid Margin="0,7,0,0">
                                            <ContentPresenter x:Name="Child"
                                                              ContentSource="Child" />
                                        </Grid>
                                    </Grid>
                                </internal:NotTopMostPopup>
                            </Grid>
                            <ControlTemplate.Triggers>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>

            </Trigger>
            <Trigger Property="DropDownPlacement"
                     Value="RightBottom">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type local:DropDown}">
                            <Grid>
                                <Grid>
                                    <ContentPresenter x:Name="Content"
                                                      ContentSource="Content"
                                                      IsHitTestVisible="False" />
                                </Grid>
                                <ToggleButton x:Name="ToggleButton"
                                              Focusable="false"
                                              IsChecked="{Binding Path=IsOpen, Mode=TwoWay, ElementName=Popup}"
                                              ClickMode="Press"
                                              Foreground="{TemplateBinding Foreground}"
                                              Background="Transparent"
                                              BorderBrush="Transparent"
                                              BorderThickness="0">
                                    <ToggleButton.Style>
                                        <Style TargetType="ToggleButton">
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="ToggleButton">
                                                        <Grid Background="Transparent" />
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </ToggleButton.Style>
                                </ToggleButton>
                                <internal:NotTopMostPopup Placement="Bottom"
                                                          x:Name="Popup"
                                                          PlacementTarget="{Binding ElementName=ToggleButton}"
                                                          Focusable="False"
                                                          Tag="{Binding ElementName=ToggleButton}"
                                                          AllowsTransparency="True"
                                                          PopupAnimation="Slide"
                                                          StaysOpen="{Binding StaysOpen,RelativeSource={RelativeSource AncestorType=local:DropDown},Mode=OneWay}">
                                    <Grid x:Name="DropDown"
                                          Margin="1,1,1,10">
                                        <Path x:Name="Path"
                                              Fill="{TemplateBinding Background}"
                                              Stroke="{TemplateBinding BorderBrush}"
                                              StrokeThickness="{TemplateBinding BorderThickness}">
                                            <Path.Data>
                                                <MultiBinding Converter="{StaticResource DropDownBorderPathConverter}">
                                                    <Binding Path="ActualWidth"
                                                             ElementName="Path" />
                                                    <Binding Path="ActualHeight"
                                                             ElementName="Path" />
                                                    <Binding Path="ActualWidth"
                                                             ElementName="Content" />
                                                    <Binding Path="ActualHeight"
                                                             ElementName="Content" />
                                                    <Binding Path="DropDownPlacement"
                                                             RelativeSource="{RelativeSource AncestorType=local:DropDown}" />
                                                    <Binding Path="CornerRadius"
                                                             RelativeSource="{RelativeSource AncestorType=local:DropDown}" />
                                                    <Binding Path="IsAngleVisible"
                                                             RelativeSource="{RelativeSource AncestorType=local:DropDown}" />
                                                </MultiBinding>
                                            </Path.Data>
                                            <Path.Effect>
                                                <DropShadowEffect ShadowDepth="0"
                                                                  BlurRadius="5"
                                                                  Opacity="1"
                                                                  Color="{Binding ShadowColor,Converter={StaticResource NullableColorToColoConverter},RelativeSource={RelativeSource AncestorType=local:DropDown}}"></DropShadowEffect>
                                            </Path.Effect>
                                        </Path>
                                        <Grid>
                                            <ContentPresenter x:Name="Child"
                                                              ContentSource="Child"
                                                              IsHitTestVisible="False" />
                                        </Grid>
                                    </Grid>
                                </internal:NotTopMostPopup>
                            </Grid>
                            <ControlTemplate.Triggers>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>

            </Trigger>

        </Style.Triggers>
    </Style>

    <Style TargetType="{x:Type internal:ResizeContainer}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type internal:ResizeContainer}">
                    <Grid DataContext="{Binding RelativeSource={RelativeSource TemplatedParent}}">
                        <Grid x:Name="GrdResizeGroup">
                            <internal:ResizeThumb Height="5"
                                                  Tag="Top"
                                                  Cursor="SizeNS"
                                                  BorderBrush="Transparent"
                                                  BorderThickness="5"
                                                  Margin="0 -5 0 0"
                                                  VerticalAlignment="Top"
                                                  HorizontalAlignment="Stretch"
                                                  IsSquare="{TemplateBinding IsSquare}"
                                                  LimitInParent="{TemplateBinding LimitInParent}" />
                            <internal:ResizeThumb Width="5"
                                                  Tag="Left"
                                                  Cursor="SizeWE"
                                                  Margin="-5 0 0 0"
                                                  BorderBrush="Transparent"
                                                  BorderThickness="5"
                                                  VerticalAlignment="Stretch"
                                                  HorizontalAlignment="Left"
                                                  IsSquare="{TemplateBinding IsSquare}"
                                                  LimitInParent="{TemplateBinding LimitInParent}" />
                            <internal:ResizeThumb Width="5"
                                                  Tag="Right"
                                                  Cursor="SizeWE"
                                                  Margin="0 0 -5 0"
                                                  BorderBrush="Transparent"
                                                  BorderThickness="5"
                                                  VerticalAlignment="Stretch"
                                                  HorizontalAlignment="Right"
                                                  IsSquare="{TemplateBinding IsSquare}"
                                                  LimitInParent="{TemplateBinding LimitInParent}" />
                            <internal:ResizeThumb Height="5"
                                                  Tag="Bottom"
                                                  Cursor="SizeNS"
                                                  Margin="0 0 0 -5"
                                                  BorderBrush="Transparent"
                                                  BorderThickness="5"
                                                  VerticalAlignment="Bottom"
                                                  HorizontalAlignment="Stretch"
                                                  IsSquare="{TemplateBinding IsSquare}"
                                                  LimitInParent="{TemplateBinding LimitInParent}" />
                            <internal:ResizeThumb Width="5"
                                                  Tag="TopLeft"
                                                  Height="5"
                                                  Cursor="SizeNWSE"
                                                  Margin="-5 -5 0 0"
                                                  BorderBrush="Transparent"
                                                  BorderThickness="5"
                                                  VerticalAlignment="Top"
                                                  HorizontalAlignment="Left"
                                                  IsSquare="{TemplateBinding IsSquare}"
                                                  LimitInParent="{TemplateBinding LimitInParent}" />
                            <internal:ResizeThumb Width="5"
                                                  Tag="TopRight"
                                                  Height="5"
                                                  Cursor="SizeNESW"
                                                  Margin="0 -5 -5 0"
                                                  BorderBrush="Transparent"
                                                  BorderThickness="5"
                                                  VerticalAlignment="Top"
                                                  HorizontalAlignment="Right"
                                                  IsSquare="{TemplateBinding IsSquare}"
                                                  LimitInParent="{TemplateBinding LimitInParent}" />
                            <internal:ResizeThumb Width="5"
                                                  Tag="BottomLeft"
                                                  Height="5"
                                                  Cursor="SizeNESW"
                                                  Margin="-5 0 0 -5"
                                                  BorderBrush="Transparent"
                                                  BorderThickness="5"
                                                  VerticalAlignment="Bottom"
                                                  HorizontalAlignment="Left"
                                                  IsSquare="{TemplateBinding IsSquare}"
                                                  LimitInParent="{TemplateBinding LimitInParent}" />
                            <internal:ResizeThumb Width="5"
                                                  Tag="BottomRight"
                                                  Height="5"
                                                  Cursor="SizeNWSE"
                                                  Margin="0 0 -5 -5"
                                                  BorderBrush="Transparent"
                                                  BorderThickness="5"
                                                  VerticalAlignment="Bottom"
                                                  HorizontalAlignment="Right"
                                                  IsSquare="{TemplateBinding IsSquare}"
                                                  LimitInParent="{TemplateBinding LimitInParent}" />
                        </Grid>
                        <ContentPresenter Content="{TemplateBinding Content}" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="CanResize"
                                 Value="False">
                            <Setter TargetName="GrdResizeGroup"
                                    Property="IsEnabled"
                                    Value="False" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type internal:DragableThumb}">
        <Setter Property="Background"
                Value="Transparent" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type internal:DragableThumb}">
                    <Border Background="{TemplateBinding Background}" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type local:Countdown}">
        <Setter Property="SnapsToDevicePixels"
                Value="{StaticResource Default_SnapsToDevicePixels}" />
        <Setter Property="FontSize"
                Value="{StaticResource Default_FontSize}" />
        <Setter Property="Second"
                Value="5" />
        <Setter Property="BorderThickness"
                Value="0" />
        <Setter Property="Foreground"
                Value="#3E3E3E" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:Countdown}">
                    <Border VerticalAlignment="{TemplateBinding VerticalAlignment}"
                            HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="{TemplateBinding CornerRadius}">
                        <TextBlock Text="{Binding Second,RelativeSource={RelativeSource AncestorType=local:Countdown}}"
                                   VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                   HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                   Foreground="{TemplateBinding Foreground}"
                                   FontSize="{TemplateBinding FontSize}"
                                   FontWeight="{TemplateBinding FontWeight}"
                                   FontFamily="{TemplateBinding FontFamily}" />
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type internal:NoticeCard}">
        <Setter Property="SnapsToDevicePixels"
                Value="{StaticResource Default_SnapsToDevicePixels}" />
        <Setter Property="FontSize"
                Value="{StaticResource Default_FontSize}" />
        <Setter Property="BorderBrush"
                Value="LightGray" />
        <Setter Property="BorderThickness"
                Value="1" />
        <Setter Property="Width"
                Value="400" />
        <Setter Property="Height"
                Value="150" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type internal:NoticeCard}">
                    <Grid Margin="10,0">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <Border.Effect>
                                <DropShadowEffect Color="LightGray"
                                                  Opacity="0.5"
                                                  BlurRadius="10"
                                                  ShadowDepth="0" />
                            </Border.Effect>
                        </Border>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <internal:CheckIcon x:Name="Icon"
                                                MessageBoxIcon="{TemplateBinding MessageBoxIcon}"
                                                VerticalAlignment="Center"
                                                Margin="25,0,15,0"
                                                Thickness="3"
                                                Height="50"
                                                Width="50" />
                            <Grid x:Name="GrdContent"
                                  Grid.Column="1"
                                  Margin="0,0,10,0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <TextBlock Text="{TemplateBinding Title}"
                                           FontSize="16"
                                           Margin="0,15,0,5"
                                           TextWrapping="Wrap"
                                           FontWeight="Bold" />
                                <TextBlock Text="{TemplateBinding Message}"
                                           FontSize="14"
                                           Grid.Row="1"
                                           Margin="0,5,0,15"
                                           TextWrapping="Wrap" />
                                <Button x:Name="BtnClose"
                                        VerticalAlignment="Top"
                                        HorizontalAlignment="Right"
                                        local:ButtonHelper.ButtonStyle="Link"
                                        Content="×"
                                        FontSize="25"
                                        Margin="0,5"
                                        Command="{Binding CloseCommand, RelativeSource={RelativeSource AncestorType=internal:NoticeCard}}"
                                        CommandParameter="{Binding Path=.,RelativeSource={RelativeSource AncestorType=internal:NoticeCard}}" />
                            </Grid>
                        </Grid>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <DataTrigger Binding="{Binding MessageBoxIcon,RelativeSource={RelativeSource Self},Mode=OneWay}"
                                     Value="None">
                            <Setter TargetName="Icon"
                                    Property="Visibility"
                                    Value="Collapsed" />
                            <Setter TargetName="GrdContent"
                                    Property="Margin"
                                    Value="20,0,10,0" />
                        </DataTrigger>

                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>